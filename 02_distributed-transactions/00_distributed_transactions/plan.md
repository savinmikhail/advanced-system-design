# üî• **A. Distributed Transactions: –æ—Ç 2PC –¥–æ Saga (—Ñ–∏–Ω–∞–ª—å–Ω—ã–π –ø–ª–∞–Ω)**

---

# üß® **0. –ë–æ–ª—å (—ç—Ç–æ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –≤ –Ω–∞—á–∞–ª–µ)**

–¢–∏–ø–∏—á–Ω—ã–µ –∫–∞—Ç–∞—Å—Ç—Ä–æ—Ñ—ã:

* –¥–µ–Ω—å–≥–∏ —Å–ø–∏—Å–∞–ª–∏—Å—å ‚Üí –∑–∞–∫–∞–∑ –Ω–µ —Å–æ–∑–¥–∞–ª—Å—è
* –∑–∞–∫–∞–∑ —Å–æ–∑–¥–∞–ª—Å—è ‚Üí –¥–µ–Ω—å–≥–∏ –Ω–µ —Å–ø–∏—Å–∞–ª–∏—Å—å
* —Å–µ—Ä–≤–∏—Å A –ø–∏—à–µ—Ç —Å–µ–±–µ OK, —Å–µ—Ä–≤–∏—Å B –ø–∏—à–µ—Ç —Å–µ–±–µ FAIL
* –∫–æ–º–ø–µ–Ω—Å–∞—Ü–∏—è –Ω–µ–≤–æ–∑–º–æ–∂–Ω–∞
* –≤–Ω–µ—à–Ω—è—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –ø–æ–¥–≤–∏—Å–ª–∞

–≠—Ç–æ **–Ω–∞—Ä—É—à–µ–Ω–∏–µ atomicity –≤ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω–æ–º –º–∏—Ä–µ**.
–ò –Ω–∏–∫–∞–∫–æ–π ACID —Ç—É—Ç –Ω–µ—Ç.

–¢–æ—á–∫–∞.

---

# üß≠ **1. –ü–æ—á–µ–º—É –æ–±—ã—á–Ω–∞—è —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—è –ù–ï —Ä–∞–±–æ—Ç–∞–µ—Ç –≤ –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–∞—Ö**

–ö–æ—Ä–æ—Ç–∫–æ, –ø–æ –¥–µ–ª—É:

* –Ω–µ—Ç –æ–¥–Ω–æ–≥–æ storage
* –Ω–µ—Ç –µ–¥–∏–Ω–æ–π —Ç–æ—á–∫–∏ –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏
* —Å–µ—Ç—å –Ω–µ–Ω–∞–¥—ë–∂–Ω–∞ ‚Üí –ª—é–±–æ–π RPC –º–æ–∂–µ—Ç —É–ø–∞—Å—Ç—å
* —É–∑–µ–ª –º–æ–∂–µ—Ç —É–º–µ—Ä–µ—Ç—å –º–µ–∂–¥—É prepare –∏ commit
* –Ω–µ—Ç –≥–ª–æ–±–∞–ª—å–Ω–æ–≥–æ ‚Äú—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–≥–æ‚Äù –ª–æ—á–µ—Ä–∞
* CAP –ª–æ–º–∞–µ—Ç –∏–ª–ª—é–∑–∏—é ‚Äú—Å–¥–µ–ª–∞–µ–º –∫–∞–∫ –≤ –º–æ–Ω–æ–ª–∏—Ç–µ‚Äù

–ò –≥–ª–∞–≤–Ω–æ–µ:

> –õ—é–±–æ–µ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω–æ–µ —Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω–∏–µ ‚Äî —ç—Ç–æ –¥–æ—Ä–æ–≥–æ, –º–µ–¥–ª–µ–Ω–Ω–æ –∏ –Ω–µ–Ω–∞–¥—ë–∂–Ω–æ.

---

# üß® **2. 2PC (Two-Phase Commit)**

*–ü–æ–∫–∞–∑–∞—Ç—å, —á—Ç–æ–±—ã –∑—Ä–∏—Ç–µ–ª–∏ –ø–æ–Ω—è–ª–∏: ‚Äú–≤—Å—ë –ø–æ–Ω—è—Ç–Ω–æ, –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –Ω–µ–ª—å–∑—è‚Äù.*

### –ß—Ç–æ —Ç–∞–∫–æ–µ 2PC

* –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–æ—Ä —Ä–∞—Å—Å—ã–ª–∞–µ—Ç prepare
* –∫–∞–∂–¥—ã–π —É–∑–µ–ª –ª–æ—á–∏—Ç —Ä–µ—Å—É—Ä—Å
* –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–æ—Ä —à–ª—ë—Ç commit
* —É–∑–ª—ã –∫–æ–º–º–∏—Ç—è—Ç

### –ë–æ–ª—å 2PC

* coordinator = single point of failure
* –µ—Å–ª–∏ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–æ—Ä —É–º–µ—Ä ‚Üí –≤–∏—Å–∏–º
* –µ—Å–ª–∏ —É–∑–µ–ª –∑–∞–≤–∏—Å –º–µ–∂–¥—É prepare –∏ commit ‚Üí –≤–∏—Å–∏–º
* –≥–ª–æ–±–∞–ª—å–Ω—ã–µ –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏
* —Å–µ—Ç–µ–≤—ã–µ —Ç–∞–π–º–∞—É—Ç—ã —Ä–∞–∑—Ä—ã–≤–∞—é—Ç –ø—Ä–æ—Ç–æ–∫–æ–ª
* –Ω–µ–≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –≥–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω–æ–≥–æ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏—è

### –í—ã–≤–æ–¥

**–¢–µ–æ—Ä–µ—Ç–∏—á–µ—Å–∫–∏ –∫—Ä–∞—Å–∏–≤–æ, –ø—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏ –ø–æ—á—Ç–∏ –Ω–∏–≥–¥–µ –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è.**

–ü–µ—Ä–µ—Ö–æ–¥–∏–º –¥–∞–ª—å—à–µ.

---

# üß® **3. 3PC (Three-Phase Commit)**

*–ß—Ç–æ–± –Ω–µ –≤—ã–≥–ª—è–¥–µ–ª–æ, —á—Ç–æ –º—ã ‚Äú–ø—Ä–æ–ø—É—Å—Ç–∏–ª–∏ –∫–ª–∞—Å—Å–∏—á–µ—Å–∫—É—é —Ç–µ–æ—Ä–∏—é‚Äù.*

–¢–æ–ª—å–∫–æ –∫–ª—é—á–µ–≤–æ–µ:

* –¥–æ–±–∞–≤–∏–ª–∏ –ø—Ä–æ–º–µ–∂—É—Ç–æ—á–Ω—É—é —Ñ–∞–∑—É
* —á—É—Ç—å –ª—É—á—à–µ fault tolerance
* –≤—Å—ë –µ—â—ë –Ω–µ–≤–æ–∑–º–æ–∂–Ω–æ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –º–∏—Ä–µ –∏–∑-–∑–∞ –∞—Å–∏–º–º–µ—Ç—Ä–∏—á–Ω—ã—Ö –∑–∞–¥–µ—Ä–∂–µ–∫ –∏ —Å–µ—Ç–∏
* —Ç—Ä–µ–±—É–µ—Ç —Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã—Ö —Ç–∞–π–º-–∞—É—Ç–æ–≤, —á—Ç–æ –≤ –ø—Ä–æ–¥–µ ‚Äî —Ñ–∞–Ω—Ç–∞–∑–∏—è

**–ü–æ—á–µ–º—É –≤–∞–∂–Ω–æ:**
—á—Ç–æ–±—ã –∑—Ä–∏—Ç–µ–ª–∏ –ø–æ–Ω—è–ª–∏ ‚Äî ‚Äú–¥–≤–µ –∏ —Ç—Ä–∏ —Ñ–∞–∑—ã –≤ —Ä–µ–∞–ª—å–Ω–æ—Å—Ç–∏ –Ω–µ —Ä–µ—à–∞—é—Ç‚Äù.

---

# üöÄ **4. Saga Pattern ‚Äî —Ä–µ–∞–ª—å–Ω—ã–π —Å–ø–æ—Å–æ–± –¥–µ–ª–∞—Ç—å —Ä–∞—Å–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω—ã–µ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏**

–≠—Ç–æ —Ü–µ–Ω—Ç—Ä–∞–ª—å–Ω—ã–π —Ä–∞–∑–¥–µ–ª.

### –û—Å–Ω–æ–≤–Ω–∞—è –∏–¥–µ—è

> –ù–µ –æ—Ç–∫–∞—Ç—ã–≤–∞–µ–º –≤—Å—ë –∞—Ç–æ–º–∞—Ä–Ω–æ.
> –í–º–µ—Å—Ç–æ —ç—Ç–æ–≥–æ –¥–µ–ª–∞–µ–º –ø—Ä–æ—Ü–µ—Å—Å, –≥–¥–µ —É –∫–∞–∂–¥–æ–π –æ–ø–µ—Ä–∞—Ü–∏–∏ –µ—Å—Ç—å –∫–æ–º–ø–µ–Ω—Å–∏—Ä—É—é—â–∞—è –æ–ø–µ—Ä–∞—Ü–∏—è.

**–¢—Ä–∏ —Å—É—â–Ω–æ—Å—Ç–∏ —Å–∞–≥–∏:**

1. –®–∞–≥ (action)
2. –ö–æ–º–ø–µ–Ω—Å–∞—Ü–∏—è (compensating action)
3. –û—Ä–∫–µ—Å—Ç—Ä–∞—Ü–∏—è / —Ö–æ—Ä–µ–æ–≥—Ä–∞—Ñ–∏—è (–∫–∞–∫ —É–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è –ø—Ä–æ—Ü–µ—Å—Å)

### –ü—Ä–æ–±–ª–µ–º—ã, –∫–æ—Ç–æ—Ä—ã–µ —Å–∞–≥–∏ —Ä–µ–∞–ª—å–Ω–æ —Ä–µ—à–∞—é—Ç:

* –Ω–µ—Ç –≥–ª–æ–±–∞–ª—å–Ω–æ–≥–æ –ª–æ–∫–∞
* –Ω–µ—Ç —Ç—è–∂—ë–ª–æ–≥–æ coordinator
* –º–æ–∂–Ω–æ –∂–∏—Ç—å —Å eventual consistency
* –º–æ–∂–Ω–æ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–∏—Ç—å—Å—è –ø–æ—Å–ª–µ –ø–∞–¥–µ–Ω–∏—è

---

# üåê **5. –û—Ä–∫–µ—Å—Ç—Ä–∞—Ü–∏—è vs –•–æ—Ä–µ–æ–≥—Ä–∞—Ñ–∏—è**

–û–±—ä—è—Å–Ω—è–µ—Ç—Å—è –Ω–∞ –ø—Ä–∏–º–µ—Ä–µ marketplace:

### –•–æ—Ä–µ–æ–≥—Ä–∞—Ñ–∏—è

–ö–∞–∂–¥—ã–π —Å–µ—Ä–≤–∏—Å —Å–ª—É—à–∞–µ—Ç —Å–æ–±—ã—Ç–∏—è –∏ —Ä–µ–∞–≥–∏—Ä—É–µ—Ç.

–ü–ª—é—Å—ã:

* –Ω–µ—Ç —Ü–µ–Ω—Ç—Ä–∞–ª—å–Ω–æ–≥–æ —É–∑–ª–∞
* –ø—Ä–æ—Å—Ç–æ –≤ –Ω–∞—á–∞–ª–µ

–ú–∏–Ω—É—Å—ã:

* —Ö–∞–æ—Å
* —Ç—Ä—É–¥–Ω–æ –æ—Ç—Å–ª–µ–∂–∏–≤–∞—Ç—å —Ñ–ª–æ—É
* —Å–ª–æ–∂–Ω–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å
* —Å–Ω–µ–∂–Ω—ã–π –∫–æ–º ‚Äú–∏–≤–µ–Ω—Ç–æ–≤‚Äù

### –û—Ä–∫–µ—Å—Ç—Ä–∞—Ü–∏—è

–ï—Å—Ç—å –æ–¥–∏–Ω ‚Äú–¥–∏—Ä–∏–∂—ë—Ä‚Äù (Saga Coordinator).

–ü–ª—é—Å—ã:

* –µ–¥–∏–Ω–∞—è —Ç–æ—á–∫–∞ –ª–æ–≥–∏–∫–∏
* –ª–µ–≥–∫–æ –º–æ–Ω–∏—Ç–æ—Ä–∏—Ç—å
* –ª–µ–≥–∫–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å
* –ª–µ–≥–∫–æ –æ—Ç–ª–∞–∂–∏–≤–∞—Ç—å

–ú–∏–Ω—É—Å—ã:

* —É—Å–ª–æ–∂–Ω—è–µ—Ç—Å—è –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞
* –Ω—É–∂–µ–Ω –æ—Ç–¥–µ–ª—å–Ω—ã–π —Å–µ—Ä–≤–∏—Å –ø–æ–¥ —ç—Ç–æ

### –í—ã–≤–æ–¥

–í —Å–æ–≤—Ä–µ–º–µ–Ω–Ω–æ–º –º–∏—Ä–µ –ø–æ—á—Ç–∏ –≤—Å–µ–≥–¥–∞: **–æ—Ä–∫–µ—Å—Ç—Ä–∞—Ü–∏—è**.

---

# üõ† **6. –†–µ–∞–ª–∏–∑–∞—Ü–∏—è —Å–∞–≥ (–∞–ª–≥–æ—Ä–∏—Ç–º–∏—á–µ—Å–∫–∏)**

### –ü—Ä–æ—Å—Ç–æ–π —Ä—É—á–Ω–æ–π —Å–ø–æ—Å–æ–± (–∫–∞–∂–¥—ã–π –ø–∏—Å–∞–ª —ç—Ç–æ):

1. —Å–µ—Ä–≤–∏—Å A –≤—ã–∑—ã–≤–∞–µ—Ç B
2. B –≤—ã–∑—ã–≤–∞–µ—Ç C
3. –µ—Å–ª–∏ C fail ‚Üí B –¥–µ–ª–∞–µ—Ç undo
4. –µ—Å–ª–∏ B undo fail ‚Üí A –¥–µ–ª–∞–µ—Ç undo
5. –µ—Å–ª–∏ undo A fail ‚Üí –∑–¥—Ä–∞–≤—Å—Ç–≤—É–π —Ö–∞–æ—Å

–¢–∞–∫–∏–µ —Å–∞–º–æ–ø–∏—Å–Ω—ã–µ —Å–∞–≥–∏ = ‚Äú–Ω–∞ –∫–æ—Å—Ç—ã–ª—è—Ö‚Äù.

### –ü—Ä–∞–≤–∏–ª—å–Ω—ã–π –ø–æ–¥—Ö–æ–¥:

* FSM (finite-state machine)
* state persistence
* idempotent handlers
* timeouts
* retry policy
* dead letter queue
* invariant: –∫–∞–∂–¥–∞—è –æ–ø–µ—Ä–∞—Ü–∏—è –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å –æ–±—Ä–∞—Ç–∏–º–æ–π

---

# ‚öô **7. Temporal / Camunda / Netflix Conductor ‚Äî –¥–ª—è —á–µ–≥–æ –æ–Ω–∏ –Ω—É–∂–Ω—ã**

–ì–ª–∞–≤–Ω—ã–π –º–µ—Å—Å–µ–¥–∂:

> –≠—Ç–æ –Ω–µ ‚Äú–º–∞–≥–∏—á–µ—Å–∫–∏–µ SaaS‚Äù, –∞ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã, –∫–æ—Ç–æ—Ä—ã–µ –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä—É—é—Ç:
>
> * retry,
> * idempotency,
> * timeouts,
> * state management,
> * workflow recovery.

–¢–æ, —á—Ç–æ —Ç—ã –¢–ï–û–†–ï–¢–ò–ß–ï–°–ö–ò –º–æ–∂–µ—à—å –Ω–∞–ø–∏—Å–∞—Ç—å –≤—Ä—É—á–Ω—É—é.
–ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏ ‚Äî –Ω–µ –º–æ–∂–µ—à—å.

### Temporal —Ä–µ—à–∞–µ—Ç:

* state machine –∏ –ª–æ–≥–∏–∫—É —Å–∞–≥–∏
* —Ö—Ä–∞–Ω–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏–π
* –≥–∞—Ä–∞–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ retry
* —Ç–∞–π–º–∞—É—Ç—ã
* –¥–µ–¥—É–ø–ª–∏–∫–∞—Ü–∏—é —Å–æ–±—ã—Ç–∏–π
* –∏–¥–µ–º–ø–æ—Ç–µ–Ω—Ç–Ω–æ—Å—Ç—å —à–∞–≥–æ–≤
* –¥–µ—Ç–µ—Ä–º–∏–Ω–∏—Ä–æ–≤–∞–Ω–Ω–æ—Å—Ç—å –ø—Ä–æ—Ü–µ—Å—Å–æ–≤

–ü–æ —Å—É—Ç–∏ ‚Äî **—É–±–∏—Ä–∞–µ—Ç 80% –±–æ–ª–∏**, –Ω–æ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω–æ –≤—Å—ë —Ä–∞–≤–Ω–æ –æ—Å—Ç–∞—ë—Ç—Å—è —Å–∞–≥–∞.

---

# üß± **8. Outbox Pattern + CDC (Debezium) ‚Äî must-have –≤ 2025**

–≠—Ç–æ must-have —Ç–µ–º–∞ ‚Äî middle+/senior –∞—É–¥–∏—Ç–æ—Ä–∏—è –±—É–¥–µ—Ç –∂–¥–∞—Ç—å.

–ë–æ–ª—å:

* ‚Äú–ú—ã –∑–∞–ø–∏—Å–∞–ª–∏ –≤ –ë–î, –Ω–æ —Å–æ–±—ã—Ç–∏–µ –≤ Kafka –ø–æ—Ç–µ—Ä—è–ª–æ—Å—å‚Äù
* ‚Äú–°–æ–±—ã—Ç–∏–µ –µ—Å—Ç—å, –Ω–æ –∑–∞–ø–∏—Å—å –Ω–µ –±—ã–ª–∞ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∞‚Äù

### Outbox + CDC = –∫–∞–∫ —Å–¥–µ–ª–∞—Ç—å –Ω–∞–¥—ë–∂–Ω—É—é –¥–æ—Å—Ç–∞–≤–∫—É —Å–æ–±—ã—Ç–∏–π:

* –∑–∞–ø–∏—Å—å –∏–∑–º–µ–Ω—è–µ—Ç—Å—è ‚Üí –ø–æ–ø–∞–¥–∞–µ—Ç –≤ outbox —Ç–∞–±–ª–∏—Ü—É
* Debezium (CDC) –ª–æ–≤–∏—Ç –∏–∑–º–µ–Ω–µ–Ω–∏—è ‚Üí –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –≤ Kafka
* –Ω–µ—Ç –ø–æ—Ç–µ—Ä—å
* –Ω–µ—Ç –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏—è
* —Å—Ç—Ä–æ–≥–æ follow-the-database

–≠—Ç–æ –∫–ª—é—á–µ–≤–æ–π –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –¥–ª—è:

* event-driven Sagas
* –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–π –º–µ–∂–¥—É —Å–µ—Ä–≤–∏—Å–∞–º–∏
* audit –ª–æ–≥–∏–∫–∏

---

# üîÅ **9. Idempotency ‚Äî –æ—Å–Ω–æ–≤–∞ –≤—Å–µ–≥–æ**

–ï—Å–ª–∏ –æ–ø–µ—Ä–∞—Ü–∏—è –Ω–µ –∏–¥–µ–º–ø–æ—Ç–µ–Ω—Ç–Ω–∞, –æ–Ω–∞ –Ω–µ –º–æ–∂–µ—Ç –±—ã—Ç—å —á–∞—Å—Ç—å—é —Å–∞–≥–∏ / —Ä–µ—Ç—Ä–∞–µ–≤ / –æ—Ä–∫–µ—Å—Ç—Ä–∞—Ü–∏–∏.

–ü–æ–∫–∞–∑–∞—Ç—å –ø—Ä–∏–º–µ—Ä—ã:

* POST ‚Üí –º–æ–∂–Ω–æ –ø—Ä–µ–≤—Ä–∞—Ç–∏—Ç—å –≤ PUT
* –æ–ø–µ—Ä–∞—Ü–∏–∏ —Å –¥–µ–Ω—å–≥–∞–º–∏ –¥–æ–ª–∂–Ω—ã –∏–º–µ—Ç—å operation_id
* Retry –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –ø–æ–≤—Ç–æ—Ä—è–µ–º—ã–º –±–µ–∑–æ–ø–∞—Å–Ω–æ
* –ö–æ–º–ø–µ–Ω—Å–∞—Ü–∏—è —á–∞—Å—Ç–æ –∑–∞–≤–∏—Å–∏—Ç –æ—Ç –∏–¥–µ–º–ø–æ—Ç–µ–Ω—Ç–Ω–æ—Å—Ç–∏

---

# üß® **10. Failure Modes (–∫–∞–∫ —ç—Ç–æ –ª–æ–º–∞–µ—Ç—Å—è)**

–ù–∞–¥–æ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ —Ä–∞–∑–æ–±—Ä–∞—Ç—å:

* –æ–ø–µ—Ä–∞—Ü–∏—è –ø—Ä–æ—à–ª–∞, –∫–æ–º–ø–µ–Ω—Å–∞—Ü–∏—è –Ω–µ –ø—Ä–æ—à–ª–∞
* –∫–æ–º–ø–µ–Ω—Å–∞—Ü–∏—è –Ω–µ–≤–æ–∑–º–æ–∂–Ω–∞ (–ø—Ä–∏–º–µ—Ä: email —É—à—ë–ª, —Ç–æ–≤–∞—Ä—ã –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω—ã)
* –≤–Ω–µ—à–Ω–∏–π API –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω
* –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–æ—Ä —É–º–µ—Ä
* —Å–æ–æ–±—â–µ–Ω–∏–µ –ø–æ—Ç–µ—Ä—è–ª–æ—Å—å
* –¥—É–±–ª—å —Å–æ–æ–±—â–µ–Ω–∏—è
* –¥—É–±–ª—å –∫–æ–º–ø–µ–Ω—Å–∞—Ü–∏–∏

–ò –ø–æ–∫–∞–∑–∞—Ç—å —á–µ—Å—Ç–Ω—ã–π –≤—ã–≤–æ–¥:

> Distributed transactions never ‚Äúsolve‚Äù problems.
> They –ø—Ä–æ—Å—Ç–æ —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä—É—é—Ç —Ö–∞–æ—Å.

---

# üìâ **11. –ù–µ–¥–æ—Å—Ç–∞—Ç–∫–∏ Saga (—á–µ—Å—Ç–Ω–æ, –ø—Ä—è–º–æ)**

* –Ω–µ—Ç atomicity
* –Ω–µ—Ç isolation
* –Ω–µ—Ç strict order
* –Ω–µ—Ç –≥–∞—Ä–∞–Ω—Ç–∏–π ‚Äú–Ω–∏–∫–∞–∫–∏—Ö –¥—É–±–ª–µ–π‚Äù
* —Å–ª–æ–∂–Ω–∞—è –æ—Ç–ª–∞–¥–∫–∞
* –Ω—É–∂–Ω–∞ –ø–æ–ª–Ω–∞—è –∏–¥–µ–º–ø–æ—Ç–µ–Ω—Ç–Ω–æ—Å—Ç—å
* –Ω—É–∂–Ω—ã –∫–æ–º–ø–µ–Ω—Å–∏—Ä—É—é—â–∏–µ –¥–µ–π—Å—Ç–≤–∏—è, –∞ –æ–Ω–∏ –Ω–µ –≤—Å–µ–≥–¥–∞ –≤–æ–∑–º–æ–∂–Ω—ã

–ò —Å–∞–º–æ–µ –≤–∞–∂–Ω–æ–µ:

> –°–∞ÃÅ–≥–∞ –Ω–µ –≥–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç —Ü–µ–ª–æ—Å—Ç–Ω–æ—Å—Ç—å ‚Äî —Ç–æ–ª—å–∫–æ —É–º–µ–Ω—å—à–∞–µ—Ç –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å —Ö–∞–æ—Å–∞.

---

# üß† **12. –ö–æ–≥–¥–∞ saga –ù–ï –ø–æ–¥—Ö–æ–¥–∏—Ç**

* –æ–ø–µ—Ä–∞—Ü–∏–∏ –±–µ–∑ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –∫–æ–º–ø–µ–Ω—Å–∞—Ü–∏–∏
* —Ñ–∏–Ω–∞–Ω—Å–æ–≤—ã–µ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ (atomic money movement)
* high-frequency trading / —Ñ–∏–Ω—Ç–µ—Ö
* —Å—Ü–µ–Ω–∞—Ä–∏–∏ ‚Äú–≤—Å—ë –∏–ª–∏ –Ω–∏—á–µ–≥–æ –±–µ–∑ –ø—Ä–∞–≤–∞ –Ω–∞ –æ—à–∏–±–∫—É‚Äù
* –µ—Å–ª–∏ –≤—Ä–µ–º—è —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ –∫—Ä–∏—Ç–∏—á–Ω–æ: —Å–∞–≥–∞ –º–æ–∂–µ—Ç –∂–∏—Ç—å —Å–µ–∫—É–Ω–¥—ã ‚Üí –º–∏–Ω—É—Ç—ã

---

# üö´ **13. –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤—ã —Å–∞–≥–∞-–ø–æ–¥—Ö–æ–¥—É**

–ù–∞–¥–æ –¥–∞—Ç—å —á–µ—Å—Ç–Ω—ã–π –Ω–∞–±–æ—Ä:

### ‚úî Try-Confirm/Cancel (TCC)

* –ø–æ—Ö–æ–∂ –Ω–∞ —Å–∞–≥–∞, –Ω–æ –±–æ–ª–µ–µ —Å—Ç—Ä–æ–≥–∏–π
* —Ç—Ä–µ–±—É–µ—Ç prepare state
* –ø–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è –±–∞–Ω–∫–æ–≤—Å–∫–∏—Ö –æ–ø–µ—Ä–∞—Ü–∏–π

### ‚úî Event Sourcing

* ‚Äú—Å–æ—Å—Ç–æ—è–Ω–∏–µ = –ø–æ—Ç–æ–∫ —Å–æ–±—ã—Ç–∏–π‚Äù
* –æ—Ç–∫–∞—Ç = –ø—Ä–æ—Å—Ç–æ –Ω–æ–≤–æ–µ —Å–æ–±—ã—Ç–∏–µ
* –Ω–æ —Å–ª–æ–∂–Ω–æ –æ–±—ä—è—Å–Ω–∏—Ç—å –Ω–æ–≤–∏—á–∫–∞–º

### ‚úî Dual-Write Avoidance (strong patterns)

* Outbox
* Transaction log tailing

### ‚úî –î–µ–¥—É–ø–ª–∏–∫–∞—Ü–∏—è + idempotency + eventual consistency

–ò–Ω–æ–≥–¥–∞ ‚Äî —ç—Ç–æ –µ–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω–æ–µ —Ä–µ–∞–ª—å–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ.
