# ## –ß–∞—Å—Ç—å 3: –ü—Ä–æ–¥–≤–∏–Ω—É—Ç–æ–µ —à–∞—Ä–¥–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –ø–∞—Ä—Ç–∏—Ü–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ

*(—á—Ç–æ –∑–¥–µ—Å—å –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –Ω—É–∂–Ω–æ –æ–±—ä—è—Å–Ω–∏—Ç—å, –∏ –≤ –∫–∞–∫–æ–º –ø–æ—Ä—è–¥–∫–µ)*

–®–∞—Ä–¥–∏—Ä–æ–≤–∞–Ω–∏–µ ‚Äî —ç—Ç–æ –≤–µ—á–Ω–æ –∑–≤—É—á–∏—Ç –∫–∞–∫ ‚Äú–≤–æ—Ç —Ç—É—Ç —Ä–∞–∑—Ä–µ–∂–µ–º —Ç–∞–±–ª–∏—Ü—É –Ω–∞ –∫—É—Å–æ—á–∫–∏‚Äù.
–ù–∞ –¥–µ–ª–µ —ç—Ç–æ –ø—Ä–µ–≤—Ä–∞—â–∞–µ—Ç—Å—è –≤ –Ω–∞–±–æ—Ä —Å–∞–º—ã—Ö –±–µ—Å–ø–æ—â–∞–¥–Ω—ã—Ö –ø—Ä–æ–±–ª–µ–º —Ä–∞—Å–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω—ã—Ö —Å–∏—Å—Ç–µ–º: –ø–æ–∏—Å–∫, –∫—Ä–æ—Å—Å-—à–∞—Ä–¥–æ–≤—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏, –º–∏–≥—Ä–∞—Ü–∏–∏, –±–∞–ª–∞–Ω—Å–∏—Ä–æ–≤–∫–∞, hot-shards –∏ —Ç. –¥.

---

# # üî• A. Dynamic Sharding —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏

## üß® –ë–æ–ª—å, —Å –∫–æ—Ç–æ—Ä–æ–π –Ω–∞—á–∏–Ω–∞–µ—Ç—Å—è –≤—Å—è —Å–µ–∫—Ü–∏—è

–ù–∞ —Å—Ç–∞—Ä—Ç–µ –≤—Å—ë –∫—Ä–∞—Å–∏–≤–æ:

* –æ–¥–Ω–∞ —Ç–∞–±–ª–∏—Ü–∞
* –æ–¥–∏–Ω –∏–Ω–¥–µ–∫—Å
* –æ–¥–∏–Ω —Å–µ—Ä–≤–µ—Ä

–ü–æ—Ç–æ–º –±–∏–∑–Ω–µ—Å –≤—ã—Ä–∞—Å—Ç–∞–µ—Ç ‚Üí —Ç—Ä–∞—Ñ–∏–∫ —Ä–∞—Å—Ç—ë—Ç ‚Üí –¥–∞–Ω–Ω—ã–µ —Ä–∞—Å—Ç—É—Ç ‚Üí latency –ø–æ–ª–∑—ë—Ç ‚Üí CPU —É–ø–∏—Ä–∞–µ—Ç—Å—è ‚Üí IOPS –∑–∞–∫–∞–Ω—á–∏–≤–∞—é—Ç—Å—è.

–¢—ã –≤–∫–ª—é—á–∏–ª –≤–µ—Ä—Ç–∏–∫–∞–ª—å–Ω—ã–π —Ä–æ—Å—Ç:
SSD –ª—É—á—à–µ, CPU –±–æ–ª—å—à–µ, Postgres 16 ‚Äî –¥–∞, –Ω–æ —Ä–∞–Ω–æ –∏–ª–∏ –ø–æ–∑–¥–Ω–æ:

**–æ–¥–∏–Ω —É–∑–µ–ª –±–æ–ª—å—à–µ –Ω–µ —Ç—è–Ω–µ—Ç.**

–ò –≤–æ—Ç, –Ω—É–∂–Ω–æ ‚Äú–ø–æ—Ä–µ–∑–∞—Ç—å –¥–∞–Ω–Ω—ã–µ‚Äù.
–ù–æ –ø—Ä–æ—Å—Ç–æ–µ "–ø–æ user_id % 10" ‚Äî —ç—Ç–æ –±–∏–ª–µ—Ç –≤ –∞–¥.

---

## üéØ –ß—Ç–æ –Ω—É–∂–Ω–æ —Ä–∞—Å–∫—Ä—ã—Ç—å –≤ A. Dynamic Sharding

### 1. –ö–∞–∫–∏–µ –µ—Å—Ç—å —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏ —à–∞—Ä–¥–∏—Ä–æ–≤–∞–Ω–∏—è –∏ –∫–∞–∫–∞—è –±–æ–ª—å —É –∫–∞–∂–¥–æ–π

#### 1) **Range-based** (–ø–æ –¥–∏–∞–ø–∞–∑–æ–Ω–∞–º)

* user_id 1‚Äì1M ‚Üí shard1
* user_id 1M‚Äì2M ‚Üí shard2
  –ë–æ–ª–∏:
* –Ω–µ—Ä–∞–≤–Ω–æ–º–µ—Ä–Ω–æ—Å—Ç—å (–∫–ª–∞—Å—Ç–µ—Ä—ã –∞–∫—Ç–∏–≤–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π)
* –Ω–µ—É–¥–æ–±–Ω—ã–µ –º–∏–≥—Ä–∞—Ü–∏–∏ (–ø–µ—Ä–µ–∫–ª–∞–¥—ã–≤–∞—Ç—å –¥–∏–∞–ø–∞–∑–æ–Ω—ã —Å–ª–æ–∂–Ω–æ)
* hot ranges

#### 2) **Hash-based** (user_id % N)

–ë–æ–ª–∏:

* –æ—Ç–ª–∏—á–Ω–æ –±–∞–ª–∞–Ω—Å–∏—Ä—É–µ—Ç‚Ä¶ –Ω–æ:
* N —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–æ, —É–≤–µ–ª–∏—á–µ–Ω–∏–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ —à–∞—Ä–¥–æ–≤ –ª–æ–º–∞–µ—Ç –≤—Å—é –º–∞–ø–ø—É
* –º–∏–≥—Ä–∞—Ü–∏—è = –ø–æ—á—Ç–∏ –≤–µ—Å—å –∫–ª–∞—Å—Ç–µ—Ä –ø–µ—Ä–µ–∫–ª–∞–¥—ã–≤–∞—Ç—å

#### 3) **Consistent Hashing** (–∫–∞–∫ –≤ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω—ã—Ö –∫–µ—à–∞—Ö)

–ë–æ–ª–∏:

* –ª—É—á—à–µ —Ä–∞–±–æ—Ç–∞–µ—Ç –ø—Ä–∏ –¥–∏–Ω–∞–º–∏–∫–µ
* –Ω–æ –¥–æ—Ä–æ–≥ –¥–ª—è –ë–î: –ø–µ—Ä–µ–∫–ª–∞–¥—ã–≤–∞—Ç—å –≤—Å—ë —Ä–∞–≤–Ω–æ –Ω—É–∂–Ω–æ

#### 4) **Directory-based / Metadata-based Sharding**

–ì–¥–µ –µ—Å—Ç—å —Ü–µ–Ω—Ç—Ä–∞–ª—å–Ω—ã–π ‚Äú–º–∞–ø–ø–µ—Ä‚Äù:

```
user_id ‚Üí shard_X
```

–ë–æ–ª–∏:

* SPOF
* –∫–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ –º–∞–ø—ã
* —Ä–µ–ø–ª–∏–∫–∞—Ü–∏—è –º–∞–ø—ã
* –Ω–∞–≥—Ä—É–∑–∫–∞ –Ω–∞ lookup-—Å–µ—Ä–≤–∏—Å

#### 5) **Geo-sharding / Business-domain sharding**

–§–∞–∫—Ç–∏—á–µ—Å–∫–∏ ‚Äúsubject-area based‚Äù:
Europe ‚Üí cluster1
Asia ‚Üí cluster2
–ë–æ–ª–∏:

* –∫—Ä–æ—Å—Å-—Ä–µ–≥–∏–æ–Ω–∞–ª—å–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã
* –º—É–ª—å—Ç–∏-—Ä–µ–≥–∏–æ–Ω–∞–ª—å–Ω–∞—è –∫–æ–Ω—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ—Å—Ç—å
* GDPR / latency

---

## 2. –ù–∞ —á—Ç–æ –æ—Ä–∏–µ–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å—Å—è –ø—Ä–∏ –≤—ã–±–æ—Ä–µ —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏

* –≥–¥–µ —Ç–≤–æ–π primary key?
* –∫–∞–∫–∏–µ –∑–∞–ø—Ä–æ—Å—ã —Å–∞–º—ã–µ —Ç—è–∂—ë–ª—ã–µ?
* –µ—Å—Ç—å –ª–∏ —Ñ–∞–Ω—Ç–æ–º ‚Äú–≥–æ—Ä—è—á–∏—Ö‚Äù –¥–∞–Ω–Ω—ã—Ö?
* –º–æ–∂–Ω–æ –ª–∏ —Å–¥–µ–ª–∞—Ç—å single-writer per key?
* –Ω—É–∂–µ–Ω –ª–∏ cross-shard join?

---

## 3. –ü–æ—á–µ–º—É ‚Äú—Å—Ç–∞—Ç–∏—á–µ—Å–∫–æ–µ —à–∞—Ä–¥–∏—Ä–æ–≤–∞–Ω–∏–µ‚Äù –ª–æ–º–∞–µ—Ç—Å—è

–õ—é–¥–∏ –¥–µ–ª—è—Ç —Ç–∞–±–ª–∏—Ü—É ‚Äú–ø–æ 10 —à–∞—Ä–¥–æ–≤‚Äù –∏ –∑–∞–±—ã–≤–∞—é—Ç, —á—Ç–æ —Ä–æ—Å—Ç –¥–∞–Ω–Ω—ã—Ö –Ω–µ –ª–∏–Ω–µ–π–Ω—ã–π.
–ß–µ—Ä–µ–∑ 2 –≥–æ–¥–∞:

* shard #7 –∑–∞–Ω—è–ª 80% –≤—Å–µ–≥–æ –Ω–∞–∫–æ–ø–ª–µ–Ω–Ω–æ–≥–æ
* shard #3 –ø—É—Å—Ç
* shard #10 —É–º–µ—Ä –æ—Ç hot-key usecase

–í–æ—Ç –ø–æ—á–µ–º—É **–Ω—É–∂–Ω–æ –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–µ —à–∞—Ä–¥–∏—Ä–æ–≤–∞–Ω–∏–µ**, –∞ –Ω–µ "–∑–∞—Ä–∞–Ω–µ–µ –ø–æ 10".

---

# # üî• B. Cross-shard –æ–ø–µ—Ä–∞—Ü–∏–∏ –∏ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏

## üß® –ë–æ–ª—å

–¢–µ–±–µ –Ω—É–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å:

* JOIN
* —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—é
* –∞–≥—Ä–µ–≥–∞—Ç
* —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—é
* —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫—É
* –ø–æ–∏—Å–∫

–ò –≤—Å—ë —ç—Ç–æ –ø–æ –¥–∞–Ω–Ω—ã–º, –∫–æ—Ç–æ—Ä—ã–µ —Ä–∞–∑–±—Ä–æ—Å–∞–Ω—ã –ø–æ —Ä–∞–∑–Ω—ã–º —à–∞—Ä–¥–∞–º.

–¢–∏–ø–∏—á–Ω—ã–µ —Å—Ç—Ä–∞–¥–∞–Ω–∏—è:

* ‚Äú–∫—É–ø–∏—Ç—å —Ç–æ–≤–∞—Ä –Ω–∞ 200 —Ä—É–±–ª–µ–π —Å –±–∞–ª–∞–Ω—Å–∞ + –±–æ–Ω—É—Å–∞–º–∏ ‚Üí –±–∞–ª–∞–Ω—Å –≤ shard1, –∑–∞–∫–∞–∑—ã –≤ shard4‚Äù
* ‚Äú–ø–æ—Å—á–∏—Ç–∞—Ç—å —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É –ø–æ –≤—Å–µ–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º ‚Üí –æ–±—Ö–æ–¥ –≤—Å–µ—Ö —à–∞—Ä–¥–æ–≤ ‚Üí –º–µ–¥–ª–µ–Ω–Ω–æ‚Äù
* ‚Äú–¥–∞–Ω–Ω—ã–µ —Ç–æ–≤–∞—Ä–∞ –≤ ES, –∑–∞–∫–∞–∑—ã –≤ Postgres, –∫–æ—Ä–∑–∏–Ω—ã –≤ Redis ‚Äî –∫–∞–∫ —ç—Ç–æ —Å–≤—è–∑–∞—Ç—å?‚Äù

---

## üéØ –ß—Ç–æ –æ–±—ä—è—Å–Ω–∏—Ç—å –≤ B

### 1. –¢—Ä–∏ –º–æ–¥–µ–ª–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è cross-shard –æ–ø–µ—Ä–∞—Ü–∏–π

#### 1) **Fan-out**

–ó–∞–ø—Ä–æ—Å –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ —É—Ö–æ–¥–∏—Ç –Ω–∞ –≤—Å–µ —à–∞—Ä–¥—ã, –ø–æ—Ç–æ–º —Å–æ–±–∏—Ä–∞—é—Ç—Å—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã.
–ë–æ–ª–∏:

* –º–µ–¥–ª–µ–Ω–Ω—ã–π —à–∞—Ä–¥ —Ç—è–Ω–µ—Ç –≤—Å–µ—Ö
* –Ω–∞–≥—Ä—É–∑–∫–∞ —Ä–∞—Å—Ç—ë—Ç –∫–≤–∞–¥—Ä–∞—Ç–∏—á–Ω–æ

#### 2) **Scatter-gather**

–ö–∞–∫ fan-out, –Ω–æ —Ü–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–π –∞–≥—Ä–µ–≥–∞—Ç–æ—Ä.
–ü—Ä–æ–±–ª–µ–º—ã —Ç–µ –∂–µ.

#### 3) **Query routing**

–î–æ –æ—Ç–ø—Ä–∞–≤–∫–∏ –∑–∞–ø—Ä–æ—Å–∞ –º—ã –∑–Ω–∞–µ–º –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π —à–∞—Ä–¥.
–õ—É—á—à–∏–π –≤–∞—Ä–∏–∞–Ω—Ç, –Ω–æ —Ç—Ä–µ–±—É–µ—Ç –∏–¥–µ–∞–ª—å–Ω–æ –≤—ã–±—Ä–∞–Ω–Ω–æ–≥–æ –∫–ª—é—á–∞.

---

### 2. –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ cross-shard –æ–ø–µ—Ä–∞—Ü–∏–π

* –ø—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω—ã–µ –∞–≥—Ä–µ–≥–∞—Ç—ã
* materialized views
* –¥–µ–Ω–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è
* CQRS (–æ—Ç–¥–µ–ª—å–Ω—ã–µ read-–º–æ–¥–µ–ª–∏)
* –æ—Ç–¥–µ–ª—å–Ω—ã–µ –∞–Ω–∞–ª–∏—Ç–∏—á–µ—Å–∫–∏–µ –∫–ª–∞—Å—Ç–µ—Ä—ã
* federation-—Å–ª–æ–π (GraphQL gateway, Vitess, Yugabyte)

---

### 3. –ö—Ä–æ—Å—Å-—à–∞—Ä–¥–æ–≤—ã–µ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏

(–ª–æ–≥–∏—á–Ω–æ –ø—Ä–æ–¥–æ–ª–∂–∞–µ—Ç —á–∞—Å—Ç—å –ø—Ä–æ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω—ã–µ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏)

* –Ω–µ–≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å ACID —á–µ—Ä–µ–∑ —à–∞—Ä–¥ –≥—Ä–∞–Ω–∏—Ü—ã
* –ª–∏–±–æ Saga
* –ª–∏–±–æ ‚Äúsingle-shard invariant‚Äù
* –ª–∏–±–æ –∑–∞–ø—Ä–µ—Ç –Ω–∞ –∫—Ä–æ—Å—Å-—à–∞—Ä–¥–æ–≤—ã–µ –∑–∞–ø–∏—Å–∏ –Ω–∞ —É—Ä–æ–≤–Ω–µ –¥–æ–º–µ–Ω–Ω–æ–π –º–æ–¥–µ–ª–∏

–•–æ—Ä–æ—à–∏–π –ª–µ–π–∞—É—Ç:
‚Üí –ï—Å–ª–∏ –æ–ø–µ—Ä–∞—Ü–∏—è –∑–∞—Ç—Ä–∞–≥–∏–≤–∞–µ—Ç 2+ —à–∞—Ä–¥–∞, –æ–Ω–∞ **–¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–π**.

---

# # üî• C. Rebalancing –∏ Migration –±–µ–∑ downtime

## üß® –ì–ª–∞–≤–Ω–∞—è –±–æ–ª—å

–¢—ã —Å–¥–µ–ª–∞–ª —à–∞—Ä–¥–∏—Ä–æ–≤–∞–Ω–∏–µ, –Ω–æ:

* —à–∞—Ä–¥ —Å—Ç–∞–ª –ø–µ—Ä–µ–ø–æ–ª–Ω–µ–Ω
* —à–∞—Ä–¥ —Å—Ç–∞–ª —Å–ª–∏—à–∫–æ–º –≥–æ—Ä—è—á–∏–º
* –¥–æ–±–∞–≤–∏–ª–∏ –Ω–æ–≤—ã–π –±–∏–∑–Ω–µ—Å-—é–Ω–∏—Ç
* –¥–∞–ª–∏ —Å–∫–∏–¥–∫—É ‚Üí —Ä–µ–≥–∏–æ–Ω –≤–∑–æ—Ä–≤–∞–ª—Å—è —Ç—Ä–∞—Ñ–∏–∫–æ–º
* –Ω—É–∂–Ω–æ —É–≤–µ–ª–∏—á–∏—Ç—å —á–∏—Å–ª–æ —à–∞—Ä–¥–æ–≤

–ú–∏–≥—Ä–∞—Ü–∏–∏ –±–µ–∑ –¥–∞—É–Ω—Ç–∞–π–º–∞ ‚Äî —Å–∞–º—ã–π –±–æ–ª—å—à–æ–π –∞–¥ —à–∞—Ä–¥–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö —Å–∏—Å—Ç–µ–º.

---

## üéØ –ß—Ç–æ –Ω—É–∂–Ω–æ –æ–±—ä—è—Å–Ω–∏—Ç—å –≤ C

### 1. –ö–æ–≥–¥–∞ –≤–æ–∑–Ω–∏–∫–∞–µ—Ç –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç—å —Ä–µ–±–∞–ª–∞–Ω—Å–∏—Ä–æ–≤–∫–∏

* –ø–µ—Ä–µ–ø–æ–ª–Ω–µ–Ω–∏–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–∞ –Ω–∞ –æ–¥–Ω–æ–º —à–∞—Ä–¥–µ
* –≥–æ—Ä—è—á–∏–µ –¥–∏–∞–ø–∞–∑–æ–Ω—ã –¥–∞–Ω–Ω—ã—Ö
* –Ω–µ—Ä–µ–≥—É–ª—è—Ä–Ω—ã–π –¥–æ—Å—Ç—É–ø
* –Ω–µ—Ä–∞–≤–Ω–æ–º–µ—Ä–Ω—ã–π —Ä–æ—Å—Ç
* –ø–æ—è–≤–ª–µ–Ω–∏–µ –Ω–æ–≤—ã—Ö —Ä–µ–≥–∏–æ–Ω–æ–≤

### 2. –ö–∞–∫–∏–µ –µ—Å—Ç—å —Ç–µ—Ö–Ω–∏–∫–∏

#### 1) **Background rebalancing**

–ù–µ–∑–∞–º–µ—Ç–Ω–æ–µ –ø–µ—Ä–µ–∫–ª–∞–¥—ã–≤–∞–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –≤ —Ñ–æ–Ω–µ.

#### 2) **Double-writing**

–ù–µ–∫–æ—Ç–æ—Ä–æ–µ –≤—Ä–µ–º—è –ø–∏—à–µ–º –≤ –æ–±–µ –ª–æ–∫–∞—Ü–∏–∏:

```
write(shard_old)
write(shard_new)
```

–ò –∂–¥—ë–º, –ø–æ–∫–∞ –¥–∞–Ω–Ω—ã–µ –¥–æ–≥–æ–Ω—è—Ç.

#### 3) **Read-fallback**

–ï—Å–ª–∏ –Ω–µ—Ç –¥–∞–Ω–Ω—ã—Ö –≤ –Ω–æ–≤–æ–º —à–∞—Ä–¥–µ ‚Äî —Å–º–æ—Ç—Ä–∏–º —Å—Ç–∞—Ä—ã–π.

#### 4) **–ú–∏–≥—Ä–∞—Ü–∏—è —á–µ—Ä–µ–∑ ‚Äú—Ç–µ–Ω–µ–≤–æ–π –∏–Ω–¥–µ–∫—Å‚Äù**

–°—Ç—Ä–æ–∏–º –Ω–æ–≤—É—é —Å—Ç—Ä—É–∫—Ç—É—Ä—É –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ —Å—Ç–∞—Ä–æ–π.

#### 5) **Versioned routing**

`user_id ‚Üí shard_v2`
–ü–æ—Ö–æ–∂–µ –Ω–∞ versioned cache keys, –Ω–æ –¥–ª—è –ë–î.

#### 6) **Rolling migration**

–ü–æ—Ä—Ü–∏—è–º–∏, –ø–æ 1% –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π.

---

### 3. –ü—Ä–æ–±–ª–µ–º—ã, –≤ –∫–æ—Ç–æ—Ä—ã–µ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –Ω—É–∂–Ω–æ —Ç–∫–Ω—É—Ç—å

* –Ω–µ—Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω–Ω–æ—Å—Ç—å –¥–∞–Ω–Ω—ã—Ö –≤–æ –≤—Ä–µ–º—è –º–∏–≥—Ä–∞—Ü–∏–π
* double reads ‚Äî –¥–æ—Ä–æ–≥–æ
* —Ñ–∞–Ω—Ç–æ–º–Ω–∞—è –∑–∞–ø–∏—Å—å —Ç–æ–ª—å–∫–æ –≤ —Å—Ç–∞—Ä—ã–π —à–∞—Ä–¥
* –≥–æ–Ω–∫–∏ –º–µ–∂–¥—É write –∏ move
* —Ö–≤–æ—Å—Ç—ã –ª–∞—Ç–µ–Ω—Ç–Ω–æ—Å—Ç–∏
* –æ—Ç–∫–∞—Ç –º–∏–≥—Ä–∞—Ü–∏–∏ (rollback plan –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å!)

---

### 4. –ß—Ç–æ —Ä–µ–∞–ª—å–Ω–æ –¥–µ–ª–∞—é—Ç –±–æ–ª—å—à–∏–µ –∫–æ–º–ø–∞–Ω–∏–∏

* Vitess / Yugabyte / Cockroach –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏ —à–∞—Ä–¥–∏—Ä–æ–≤–∞–Ω–∏—è
* Federation —Å–ª–æ–∏ –¥–ª—è –¥–∏–Ω–∞–º–∏—á–Ω–æ–≥–æ —Ä–æ—É—Ç–∏–Ω–≥–∞
* zero-downtime rebalancing —á–µ—Ä–µ–∑ –∫–æ–Ω—Ç—Ä–æ–ª–∏—Ä—É–µ–º—ã–µ routing-tables
* dual-write, delayed cutover, backfill
* –ø–µ—Ä–µ—à–∞—Ä–¥–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–∞–∑ –≤ –ø–æ–ª–≥–æ–¥–∞/–≥–æ–¥
