
# # üî• C. Strong Consistency –±–µ–∑ –±–ª–æ–∫–∏—Ä–æ–≤–æ–∫

*(—Å–∞–º–∞—è –∏–Ω—Ç–µ—Ä–µ—Å–Ω–∞—è —á–∞—Å—Ç—å, –≥–¥–µ –ª—é–¥–∏ –æ–±—ã—á–Ω–æ –æ—Ñ–∏–≥–µ–≤–∞—é—Ç)*

## üß® –ë–æ–ª—å

–•–æ—á–µ—Ç—Å—è strong consistency, –Ω–æ:

* –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏ –¥–æ—Ä–æ–≥–∏–µ
* global locks —É–±–∏–≤–∞—é—Ç throughput
* —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ –Ω–∞ –Ω–µ—Å–∫–æ–ª—å–∫–æ —Å–µ—Ä–≤–∏—Å–æ–≤ –Ω–µ–≤–æ–∑–º–æ–∂–Ω—ã
* 2PC –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç
* optimistic locks –ª–æ–º–∞—é—Ç—Å—è –ø—Ä–∏ high contention

–ò –≤–æ—Ç –∑–∞–¥–∞—á–∞:
**–∫–∞–∫ —Å–¥–µ–ª–∞—Ç—å strong consistency, –Ω–æ –Ω–µ —Ç–æ—Ä–º–æ–∑–∏—Ç—å –≤—Å—ë?**

---

## üéØ –ß—Ç–æ –∑–¥–µ—Å—å —Ä–∞—Å–∫—Ä—ã—Ç—å

### 1. ‚ÄúStrong enough‚Äù consistency

–ù–µ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ full-serializable.
–ò–Ω–æ–≥–¥–∞ –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ **per-key strong consistency**, –Ω–∞–ø—Ä–∏–º–µ—Ä:

* –æ–¥–∏–Ω —Å—á—ë—Ç—á–∏–∫ –≤—Å–µ–≥–¥–∞ –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π
* –æ–¥–∏–Ω –∑–∞–∫–∞–∑ –Ω–µ —Å–æ–∑–¥–∞—ë—Ç—Å—è –¥–≤–∞–∂–¥—ã
* –æ–¥–Ω–∞ –∫–æ—Ä–∑–∏–Ω–∞ –Ω–µ –ª–æ–º–∞–µ—Ç—Å—è –≥–æ–Ω–∫–∞–º–∏
* –æ–¥–∏–Ω –±–∞–ª–∞–Ω—Å –Ω–µ —É—Ö–æ–¥–∏—Ç –≤ –º–∏–Ω—É—Å

### 2. –¢–µ—Ö–Ω–∏–∫–∏ strong consistency –±–µ–∑ –±–æ–ª—å—à–∏—Ö –±–ª–æ–∫–∏—Ä–æ–≤–æ–∫

* –æ–ø—Ç–∏–º–∏—Å—Ç–∏—á–Ω–∞—è –±–ª–æ–∫–∏—Ä–æ–≤–∫–∞ (versioning / CAS)
* monotonic writes
* single-writer per key
* sequencer (–ª–æ–≥–∏—á–µ—Å–∫–∏–π –ø–æ—Ä—è–¥–æ–∫ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π)
* write fences
* lease-based control
* logical timestamps
* conditional writes (compare-and-set everywhere)

### 3. –î–µ–∫–æ–º–ø–æ–∑–∏—Ü–∏—è: —Å—Ç—Ä–æ–≥–∞—è –∫–æ–Ω—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ—Å—Ç—å –Ω–∞ —É—Ä–æ–≤–Ω–µ ‚Äú–º–∏–∫—Ä–æ-—Ä–µ–≥–∏–æ–Ω–æ–≤ –¥–∞–Ω–Ω—ã—Ö‚Äù

–ù–∞–ø—Ä–∏–º–µ—Ä:

* –∫–ª—é—á –≤ Redis –≤—Å–µ–≥–¥–∞ –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è –∞—Ç–æ–º–∞—Ä–Ω–æ
* —Ç–∞–±–ª–∏—Ü–∞ –≤ Postgres –ø–æ–¥–Ω–∏–º–∞–µ—Ç –≤–µ—Ä—Å–∏—é
* –ø–æ—Ç–æ–∫ Kafka –≥–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç –ø–æ—Ä—è–¥–æ–∫ –¥–ª—è –æ–¥–Ω–æ–≥–æ –∫–ª—é—á–∞
* sharded counters

–¢–æ –µ—Å—Ç—å –Ω–µ –≤–µ—Å—å —Å–µ—Ä–≤–∏—Å –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å ‚Äú—Å—Ç—Ä–æ–≥–∏–º‚Äù, –∞ —Ç–æ–ª—å–∫–æ **—Ç–æ—á–∫–∏, –≥–¥–µ –¥–µ–Ω—å–≥–∏ —É—Ö–æ–¥—è—Ç –≤–ª–µ–≤–æ-–≤–ø—Ä–∞–≤–æ**.

### 4. –ö–æ–≥–¥–∞ strong consistency –Ω–µ–≤–æ–∑–º–æ–∂–Ω–∞

–ü—Ä—è–º–æ –∏ —á–µ—Å—Ç–Ω–æ:

* –Ω–µ—Å–∫–æ–ª—å–∫–æ write-—É–∑–ª–æ–≤
* –∫—Ä–æ—Å—Å-—Ä–µ–≥–∏–æ–Ω–∞–ª—å–Ω—ã–µ –∑–∞–ø–∏—Å–∏
* –≥–ª–æ–±–∞–ª—å–Ω—ã–µ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏
* –Ω–µ—Å—Ç–∞–±–∏–ª—å–Ω–∞—è —Å–µ—Ç—å
* –º–Ω–æ–≥–æ —Å–µ—Ä–≤–∏—Å–æ–≤, –ø–∏—à—É—â–∏—Ö –æ–¥–Ω–æ –∏ —Ç–æ –∂–µ
* —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è ‚Äú—Å—Ç—Ä–∞—Ö–æ–≤–∫–∞ –æ—Ç –¥—É—Ä–∞–∫–∞ + 0 —Ä–∞—Å—Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏‚Äù

–¢—É—Ç –Ω–∞–¥–æ –≤—ã–±—Ä–∞—Ç—å ‚Äî –ª–∏–±–æ Paxos/Raft (–¥–æ—Ä–æ–≥–æ), –ª–∏–±–æ –∂–∏—Ç—å —Å eventual.

