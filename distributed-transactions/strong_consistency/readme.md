# üé¨ **–°–¶–ï–ù–ê–†–ò–ô: Strong Consistency –≤ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω—ã—Ö —Å–∏—Å—Ç–µ–º–∞—Ö (12‚Äì15 –º–∏–Ω)**


##  **–í—Å—Ç—É–ø–ª–µ–Ω–∏–µ: —Ö—É–∫**

–ü—Ä–µ–¥—Å—Ç–∞–≤—å—Ç–µ, —á—Ç–æ —É –≤–∞—Å –µ—Å—Ç—å —Ç—Ä–∏ —Å–µ—Ä–≤–∏—Å–∞: –ø–ª–∞—Ç–µ–∂–∏, –∑–∞–∫–∞–∑—ã –∏ –∏–Ω–≤–µ–Ω—Ç–∞—Ä—å.

–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –æ–ø–ª–∞—Ç–∏–ª —Ç–æ–≤–∞—Ä.
–î–µ–Ω—å–≥–∏ —Å–ø–∏—Å–∞–ª–∏—Å—å.
–ù–æ –∑–∞–∫–∞–∑ –Ω–µ —Å–æ–∑–¥–∞–ª—Å—è, –ø–æ—Ç–æ–º—É —á—Ç–æ —Å–µ—Ç—å –º–µ–∂–¥—É —Å–µ—Ä–≤–∏—Å–∞–º–∏ –º–∏–≥–Ω—É–ª–∞.

–ò –¥–∞–ª—å—à–µ –≤ –ª–æ–≥–∞—Ö —Ç–æ, —á—Ç–æ –º—ã –ª—é–±–∏–º:
‚Äú–Ω–µ—Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω–Ω–æ—Å—Ç—å –¥–∞–Ω–Ω—ã—Ö‚Äù, ‚Äú—Ä—É—á–Ω–æ–π –æ—Ç–∫–∞—Ç‚Äù, ‚Äú–≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –ø–ª–∞—Ç–µ–∂–µ–π‚Äù.

–ò –≥–ª–∞–≤–Ω—ã–π –≤–æ–ø—Ä–æ—Å:

**–ú–æ–∂–Ω–æ –ª–∏ —Å–¥–µ–ª–∞—Ç—å —Ç–∞–∫, —á—Ç–æ–±—ã –¥–∞–Ω–Ω—ã–µ –±—ã–ª–∏ –≤—Å–µ–≥–¥–∞ —Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω—ã?
–ö–∞–∫ –±—É–¥—Ç–æ —É –Ω–∞—Å –æ–¥–Ω–∞ –±–∞–∑–∞ –∏ –æ–¥–∏–Ω –∏—Å—Ç–æ—á–Ω–∏–∫ –∏—Å—Ç–∏–Ω—ã?**

–î–∞, –º–æ–∂–Ω–æ. –≠—Ç–æ –∏ –µ—Å—Ç—å strong consistency.
–ù–æ –æ–Ω–∞ —Å—Ç–æ–∏—Ç –æ—á–µ–Ω—å –¥–æ—Ä–æ–≥–æ.

---

# üß® **1. –ß—Ç–æ —Ç–∞–∫–æ–µ Strong Consistency (–ø—Ä–æ—Å—Ç—ã–º–∏ —Å–ª–æ–≤–∞–º–∏)**

Strong consistency ‚Äî —ç—Ç–æ –≥–∞—Ä–∞–Ω—Ç–∏—è:

> –õ—é–±–æ–µ —á—Ç–µ–Ω–∏–µ –ø–æ—Å–ª–µ –∑–∞–ø–∏—Å–∏ *–≥–∞—Ä–∞–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω–æ* —É–≤–∏–¥–∏—Ç —ç—Ç—É –∑–∞–ø–∏—Å—å.
> –ù–µ–∑–∞–≤–∏—Å–∏–º–æ –æ—Ç —Ç–æ–≥–æ, –∫—É–¥–∞ –ø–æ—à—ë–ª –∑–∞–ø—Ä–æ—Å ‚Äî –Ω–∞ —Ä–µ–ø–ª–∏–∫—É, —à–∞—Ä–¥—É –∏–ª–∏ –¥—Ä—É–≥–æ–π —Ä–µ–≥–∏–æ–Ω.

–≠—Ç–æ –ø–æ–≤–µ–¥–µ–Ω–∏–µ –º–æ–Ω–æ–ª–∏—Ç–∞ —Å –æ–¥–Ω–æ–π –±–∞–∑–æ–π.
–≠—Ç–æ —Ç–æ, —á—Ç–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ —Ö–æ—Ç—è—Ç.
–ò —Ç–æ, —á—Ç–æ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω—ã–µ —Å–∏—Å—Ç–µ–º—ã –Ω–µ–Ω–∞–≤–∏–¥—è—Ç –æ–±–µ—Å–ø–µ—á–∏–≤–∞—Ç—å.

---

# üî¨ **2. –§–æ—Ä–º–∞–ª—å–Ω–æ: Linearizability**

Linearizability ‚Äî —Å–∞–º–æ–µ —Å—Ç—Ä–æ–≥–æ–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ strong consistency.

> –í—Å–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ –≤—ã–≥–ª—è–¥—è—Ç —Ç–∞–∫, –±—É–¥—Ç–æ –æ–Ω–∏ –ø—Ä–æ–∏—Å—Ö–æ–¥—è—Ç –≤ –æ–¥–Ω–æ–º –∞—Ç–æ–º–∞—Ä–Ω–æ–º –ø–æ—Ä—è–¥–∫–µ.

–ï—Å–ª–∏ —Ç—ã –∑–∞–ø–∏—Å–∞–ª `balance=1000`,
–¥—Ä—É–≥–æ–π –∫–ª–∏–µ–Ω—Ç –Ω–µ –º–æ–∂–µ—Ç —É–≤–∏–¥–µ—Ç—å 900 –∏–ª–∏ 1100.
–ù–∏–∫–æ–≥–¥–∞. –ù–∏ –Ω–∞ –æ–¥–Ω–æ–π –Ω–æ–¥–µ.

–ó–≤—É—á–∏—Ç –∫—Ä–∞—Å–∏–≤–æ.
–í —Ä–µ–∞–ª—å–Ω–æ—Å—Ç–∏ ‚Äî —ç—Ç–æ –æ–¥–Ω–∞ –∏–∑ —Å–∞–º—ã—Ö –¥–æ—Ä–æ–≥–∏—Ö –≥–∞—Ä–∞–Ω—Ç–∏–π –≤–æ –≤—Å–µ–π —Ä–∞—Å–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω–æ–π –∏–Ω–∂–µ–Ω–µ—Ä–∏–∏.

---

# ‚ùì **3. –ü–æ—á–µ–º—É strong consistency ‚Äî —ç—Ç–æ –±–æ–ª—å**

–ß—Ç–æ–±—ã –≥–∞—Ä–∞–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å strong consistency, —Å–∏—Å—Ç–µ–º–∞ –¥–æ–ª–∂–Ω–∞:

* –¥–µ—Ä–∂–∞—Ç—å —Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–µ —Ä–µ–ø–ª–∏–∫–∏
* –∂–¥–∞—Ç—å –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–π –æ—Ç –≤—Å–µ—Ö –Ω–æ–¥
* –∫–æ–æ—Ä–¥–∏–Ω–∏—Ä–æ–≤–∞—Ç—å –ø–æ—Ä—è–¥–æ–∫ –æ–ø–µ—Ä–∞—Ü–∏–π
* –∏–º–µ—Ç—å –≥–ª–æ–±–∞–ª—å–Ω—ã–π —Å–µ—Ä–∏–∞–ª–∏–∑–∞—Ç–æ—Ä
* –≤—ã–¥–µ—Ä–∂–∏–≤–∞—Ç—å —Å–µ—Ç–µ–≤—ã–µ –ª–∞–≥–∏, –¥—Ä–æ–ø—ã –∏ timeouts

–¢–æ –µ—Å—Ç—å strong consistency:

* –º–µ–¥–ª–µ–Ω–Ω–∞—è
* –ø–ª–æ—Ö–æ –º–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–∞—è
* –ª–æ–º–∞–µ—Ç throughput
* —Å–Ω–∏–∂–∞–µ—Ç availability
* –∏ —É–≤–µ–ª–∏—á–∏–≤–∞–µ—Ç tail latency

–° –æ–¥–Ω–æ–π —Å—Ç–æ—Ä–æ–Ω—ã ‚Äî –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å.
–° –¥—Ä—É–≥–æ–π ‚Äî –∏–Ω–∂–µ–Ω–µ—Ä–Ω—ã–π –∞–¥.

---

# üß© **4. –ì–¥–µ strong consistency –¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ –Ω—É–∂–Ω–∞**

–ü—Ä–∏–º–µ—Ä—ã, –≥–¥–µ –æ—à–∏–±–∫–∞ —Å—Ç–æ–∏—Ç –¥–æ—Ä–æ–≥–æ:

* –±–∞–Ω–∫–æ–≤—Å–∫–∏–µ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏
* —Å–ø–∏—Å–∞–Ω–∏–µ –¥–µ–Ω–µ–≥
* –±–∏–ª–ª–∏–Ω–≥
* –∏–Ω–≤–µ–Ω—Ç–∞—Ä–∏–∑–∞—Ü–∏—è (–∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ç–æ–≤–∞—Ä–∞)
* security: ACL, permissions
* –¥–µ–π—Å—Ç–≤–∏—è, –∫–æ—Ç–æ—Ä—ã–µ –Ω–µ–≤–æ–∑–º–æ–∂–Ω–æ –∫–æ–º–ø–µ–Ω—Å–∏—Ä–æ–≤–∞—Ç—å
* –∏–∑–º–µ–Ω–µ–Ω–∏—è, –∫–æ—Ç–æ—Ä—ã–µ –Ω–µ–ª—å–∑—è –æ—Ç–∫–∞—Ç–∏—Ç—å
* –∑–∞–∫–∞–∑—ã/—Ä–µ–∑–µ—Ä–≤–∞—Ü–∏–∏ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏

–í—Å—ë –æ—Å—Ç–∞–ª—å–Ω–æ–µ –≤—ã–¥–µ—Ä–∂–∏–≤–∞–µ—Ç eventual consistency.

---

# üõ† **5. –ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ —Å–ø–æ—Å–æ–±—ã –¥–æ—Å—Ç–∏—á—å strong consistency**

---

## ‚öô 5.1. Single Leader (Primary-Replica)

–°–∞–º—ã–π —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω—ë–Ω–Ω—ã–π –≤–∞—Ä–∏–∞–Ω—Ç:

* –æ–¥–∏–Ω —É–∑–µ–ª –ø—Ä–∏–Ω–∏–º–∞–µ—Ç –∑–∞–ø–∏—Å—å
* –æ—Å—Ç–∞–ª—å–Ω—ã–µ ‚Äî —Ç–æ–ª—å–∫–æ —á–∏—Ç–∞—é—Ç
* –µ—Å–ª–∏ –ª–∏–¥–µ—Ä —É–ø–∞–ª ‚Üí failover

**–ü–ª—é—Å—ã:**

* –ø—Ä–æ—Å—Ç–æ
* –Ω–∞–¥—ë–∂–Ω–æ
* –ø–æ–Ω—è—Ç–Ω–æ

**–ú–∏–Ω—É—Å—ã:**

* –≤–µ—Å—å write throughput —É–ø–∏—Ä–∞–µ—Ç—Å—è –≤ –æ–¥–∏–Ω —É–∑–µ–ª
* failover = –ø–∞—É–∑–∞
* latency —Ä–∞—Å—Ç—ë—Ç –ø—Ä–∏ —Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–π —Ä–µ–ø–ª–∏–∫–∞—Ü–∏–∏

---

## ‚öô 5.2. –°–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è —Ä–µ–ø–ª–∏–∫–∞—Ü–∏—è (write ‚Üí –≤—Å–µ –Ω–æ–¥—ã ‚Üí ack)

–ü—É—Ç—å –∫ strong consistency:

* write –∏–¥—ë—Ç –Ω–∞ N —Ä–µ–ø–ª–∏–∫
* –∫–ª–∏–µ–Ω—Ç –ø–æ–ª—É—á–∞–µ—Ç ok —Ç–æ–ª—å–∫–æ –ø–æ—Å–ª–µ ack –æ—Ç –≤—Å–µ—Ö

**–¶–µ–Ω–∞:**

* latency √ó –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ä–µ–ø–ª–∏–∫
* –æ–¥–∏–Ω –º–µ–¥–ª–µ–Ω–Ω—ã–π —É–∑–µ–ª ‚Üí –≤—Å—ë –º–µ–¥–ª–µ–Ω–Ω–æ–µ

---

## ‚öô 5.3. Distributed Lock Managers

–ò—Å–ø–æ–ª—å–∑—É—é—Ç:

* Zookeeper
* etcd
* Google Chubby

–ó–∞–¥–∞—á–∞ ‚Äî —Å–µ—Ä–∏–∞–ª–∏–∑–æ–≤–∞—Ç—å –æ–ø–µ—Ä–∞—Ü–∏–∏ —á–µ—Ä–µ–∑ –≥–ª–æ–±–∞–ª—å–Ω—ã–π lock.

**–¶–µ–Ω–∞:**

* –≤—Å–µ write –ø—Ä–æ—Ö–æ–¥—è—Ç —á–µ—Ä–µ–∑ –æ–¥–∏–Ω bottleneck
* latency —É–¥–≤–∞–∏–≤–∞–µ—Ç—Å—è
* —Å–µ—Ä–∏—è —Å–µ—Ç–µ–≤—ã—Ö RPC

---

## ‚öô 5.4. TrueTime (Google Spanner)

–°–∞–º—ã–π –º–æ—â–Ω—ã–π –º–µ—Ö–∞–Ω–∏–∑–º strong consistency –≤ –º–∏—Ä–µ:

* –∞—Ç–æ–º–Ω—ã–µ —á–∞—Å—ã
* bound clock skew
* –≥–ª–æ–±–∞–ª—å–Ω–æ —Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω–Ω—ã–µ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏

–ù–æ:

* –¥–æ—Ä–æ–≥–æ
* —Å–ª–æ–∂–Ω–æ
* –¥–æ—Å—Ç—É–ø–Ω–æ —Ç–æ–ª—å–∫–æ –≤ –æ–¥–Ω–æ–º –æ–±–ª–∞–∫–µ
* –ø–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è —ç–ª–∏—Ç–Ω—ã—Ö –∑–∞—Ç—Ä–∞—Ç–Ω—ã—Ö –∫–µ–π—Å–æ–≤

---

# ‚öñ **6. Trade-offs: –ø–æ—á–µ–º—É strong consistency –Ω–µ–ª—å–∑—è ‚Äú–ø—Ä–æ—Å—Ç–æ –≤–∫–ª—é—á–∏—Ç—å‚Äù**

### üí∏ Latency ‚Üë

–ö–∞–∂–¥–∞—è –∑–∞–ø–∏—Å—å ‚Äî —ç—Ç–æ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö —É–∑–ª–æ–≤.

### üß± Availability ‚Üì

–°–±–æ–π —Å–µ—Ç–∏ ‚Üí –±–æ–ª—å—à–µ –Ω–µ–ª—å–∑—è –æ—Ç–≤–µ—á–∞—Ç—å –±—ã—Å—Ç—Ä–æ ‚Üí CAP –≥–æ–≤–æ—Ä–∏—Ç ‚Äú–¥–æ —Å–≤–∏–¥–∞–Ω–∏—è‚Äù.

### üß® Tail latency ‚Üë

–°–∞–º–∞—è –º–µ–¥–ª–µ–Ω–Ω–∞—è —Ä–µ–ø–ª–∏–∫–∞ –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç —Å–∏—Å—Ç–µ–º—É.

### üè≠ Throughput ‚Üì

–ù–µ–ª—å–∑—è –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞—Ç—å –∑–∞–ø–∏—Å—å –≥–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω–æ –±–µ–∑ –ø–æ—Ç–µ—Ä–∏ –∫–æ–Ω—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ—Å—Ç–∏.

---

# ‚ö° **7. –ö–æ–≥–¥–∞ strong consistency –ù–ï –Ω—É–∂–Ω–∞**

–≠—Ç–æ —Å–∞–º–∞—è –ø—Ä–∞–∫—Ç–∏—á–Ω–∞—è —á–∞—Å—Ç—å.

Strong consistency ‚Äî —ç—Ç–æ –Ω–µ –ø—Ä–æ ‚Äú–∫—Ä–∞—Å–∏–≤–æ‚Äù.
–≠—Ç–æ –ø—Ä–æ **—Ü–µ–Ω–∞ –æ—à–∏–±–∫–∏ –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å –≤—ã—à–µ, —á–µ–º —Ü–µ–Ω–∞ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏**.

–ù–µ –Ω—É–∂–Ω–∞ strong consistency, –µ—Å–ª–∏:

* —ç—Ç–æ –∫–µ—à
* —ç—Ç–æ –ø—Ä–æ—Ñ–∏–ª—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
* —ç—Ç–æ –ª–µ–Ω—Ç–∞
* —ç—Ç–æ –∞–Ω–∞–ª–∏—Ç–∏–∫–∞
* —ç—Ç–æ –∫–æ—Ä–∑–∏–Ω–∞
* —ç—Ç–æ –∫–∞—Ç–∞–ª–æ–≥–∏
* —ç—Ç–æ –ª–∞–π–∫–∏ / —Ä–µ–∞–∫—Ü–∏–∏
* —ç—Ç–æ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ç–µ–ª—å–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞
* —ç—Ç–æ –Ω–µ –¥–µ–Ω—å–≥–∏

95% –∑–∞–¥–∞—á ‚Äî eventual consistency.

---

# üõ† **8. –ö–∞–∫ –∂–∏—Ç—å —Å–æ strong consistency, –∫–æ–≥–¥–∞ –¥–µ–≤–∞—Ç—å—Å—è –Ω–µ–∫—É–¥–∞**

–ü–æ–ª–µ–∑–Ω—ã–µ —Ç–µ—Ö–Ω–∏–∫–∏:

---

### ‚úî Majority quorum

–ü–∏—à–µ–º –≤ –±–æ–ª—å—à–∏–Ω—Å—Ç–≤–æ —Ä–µ–ø–ª–∏–∫, —á–∏—Ç–∞–µ–º –∏–∑ –±–æ–ª—å—à–∏–Ω—Å—Ç–≤–∞.

–°–Ω–∏–∂–∞–µ—Ç —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è –∫ –ø–æ–ª–Ω–æ–π —Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ—Å—Ç–∏.

---

### ‚úî Combine strong RW for user + eventual for everyone else

* –∫–ª–∏–µ–Ω—Ç, –∫–æ—Ç–æ—Ä—ã–π –ø–∏—à–µ—Ç, —á–∏—Ç–∞–µ—Ç —Å–≤–æ—ë –∂–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ (RAW)
* –æ—Å—Ç–∞–ª—å–Ω—ã–µ —á–∏—Ç–∞—é—Ç eventual

–≠—Ç–æ Facebook —Ç–∞–∫ –¥–µ–ª–∞–µ—Ç.

---

### ‚úî Partitioning write path

–ß—Ç–æ–±—ã –Ω–µ –±—ã–ª–æ –≥–ª–æ–±–∞–ª—å–Ω–æ–≥–æ —Å–µ—Ä–∏–∞–ª–∏–∑–∞—Ç–æ—Ä–∞.

---

### ‚úî Write-through caches

–ö–µ—à –≤—Å–µ–≥–¥–∞ –ø–æ–ª—É—á–∞–µ—Ç —Å–≤–µ–∂–∏–µ –¥–∞–Ω–Ω—ã–µ.

---

### ‚úî Pinning –∑–∞–ø—Ä–æ—Å–æ–≤ –∫ –æ–¥–Ω–æ–º—É —É–∑–ª—É

–ß—Ç–æ–±—ã read-after-write –±—ã–ª 100% –≥–∞—Ä–∞–Ω—Ç–∏—Ä–æ–≤–∞–Ω.

---

### ‚úî Idempotency –≤–µ–∑–¥–µ

–î–∞–∂–µ –≤ strong-consistent —Å–∏—Å—Ç–µ–º–∞—Ö –º–æ–≥—É—Ç –±—ã—Ç—å –ø–æ–≤—Ç–æ—Ä—ã.

---


# üèÅ **–§–∏–Ω–∞–ª**

Strong consistency ‚Äî —ç—Ç–æ –∫–∞–∫ —è–¥–µ—Ä–Ω—ã–π —Ä–µ–∞–∫—Ç–æ—Ä:

* –∫—Ä–∞–π–Ω–µ –º–æ—â–Ω–∞—è —à—Ç—É–∫–∞
* –Ω—É–∂–Ω–∞ –Ω–µ –≤–µ–∑–¥–µ
* –≤—Å–µ–≥–¥–∞ –¥–æ—Ä–æ–≥–∞—è
* –≤—Å–µ–≥–¥–∞ –ø–æ–≤—ã—à–∞–µ—Ç —Ä–∏—Å–∫–∏
* –≤—Å–µ–≥–¥–∞ —Ç—Ä–µ–±—É–µ—Ç –¥–∏—Å—Ü–∏–ø–ª–∏–Ω—ã

–ù–æ —Ç–∞–º, –≥–¥–µ –æ–Ω–∞ –Ω—É–∂–Ω–∞ ‚Äî –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤ –Ω–µ—Ç.
