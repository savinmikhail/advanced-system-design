# üî• B. Throughput Scaling

# üé¨ –í–°–¢–£–ü–õ–ï–ù–ò–ï (2‚Äì3 –º–∏–Ω—É—Ç—ã)

–ü—Ä–µ–¥—Å—Ç–∞–≤—å—Ç–µ: –≤–∞—à —Å–µ—Ä–≤–∏—Å —Ä–∞–±–æ—Ç–∞–µ—Ç –±—ã—Å—Ç—Ä–æ. –ö—Ä–∞—Å–∏–≤–æ, —Ä–æ–≤–Ω–æ, –≥—Ä–∞—Ñ–∏–∫–∏ –∑–µ–ª—ë–Ω—ã–µ.
–í—ã –¥–æ–±–∞–≤–ª—è–µ—Ç–µ –Ω–µ–º–Ω–æ–≥–æ –Ω–∞–≥—Ä—É–∑–∫–∏ ‚Äî –∏ –≤—Å—ë –≤–Ω–µ–∑–∞–ø–Ω–æ –ø—Ä–µ–≤—Ä–∞—â–∞–µ—Ç—Å—è –≤ –∞–¥.

* latency –ø—Ä—ã–≥–Ω—É–ª–æ –≤ 20 —Ä–∞–∑,
* RPS —É–ø–∞–ª,
* –æ—á–µ—Ä–µ–¥–∏ –≤—ã—Ä–æ—Å–ª–∏,
* –∫–ª–∏–µ–Ω—Ç—ã –Ω–∞—á–∞–ª–∏ —Ä–µ—Ç—Ä–∞–∏—Ç—å,
* downstream —É–º–µ—Ä,
* —É–¥–µ—Ä–∂–∞–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –æ–ø—É—Å—Ç–∏–ª–æ—Å—å –≤ –º–∏–Ω—É—Å –±–µ—Å–∫–æ–Ω–µ—á–Ω–æ—Å—Ç—å.

–≠—Ç–æ –Ω–µ –±–∞–≥, —ç—Ç–æ **–∑–∞–∫–æ–Ω—ã —Ñ–∏–∑–∏–∫–∏ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω—ã—Ö —Å–∏—Å—Ç–µ–º**.

–°–µ–≥–æ–¥–Ω—è –º—ã —Ä–∞–∑–±–µ—Ä—ë–º:

* —á—Ç–æ —Ç–∞–∫–æ–µ throughput,
* –ø–æ—á–µ–º—É –æ–Ω –ù–ï —Ä–∞—Å—Ç—ë—Ç –æ—Ç –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ —Å–µ—Ä–≤–µ—Ä–æ–≤,
* –ø–æ—á–µ–º—É –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ —Ä–µ—Å—É—Ä—Å–æ–≤ –∏–Ω–æ–≥–¥–∞ *—É–±–∏–≤–∞–µ—Ç* –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å,
* –∏ –∫–∞–∫–∏–µ –∑–∞–∫–æ–Ω—ã –æ–ø–∏—Å—ã–≤–∞—é—Ç —Ç–∞–∫–æ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ

---

# üìå –ß–¢–û –¢–ê–ö–û–ï THROUGHPUT (–∏ —á–µ–º –æ–Ω –æ—Ç–ª–∏—á–∞–µ—Ç—Å—è –æ—Ç latency)

–ë–æ–ª—å—à–∏–Ω—Å—Ç–≤–æ –∏–Ω–∂–µ–Ω–µ—Ä–æ–≤ –≤ –≥–æ–ª–æ–≤–µ –ø—É—Ç–∞—é—Ç —ç—Ç–∏ –¥–≤–µ –≤–µ—â–∏, –∞ –ø–æ—Ç–æ–º —É–¥–∏–≤–ª—è—é—Ç—Å—è –≥—Ä–∞—Ñ–∏–∫–∞–º.

### Latency

–≠—Ç–æ –≤—Ä–µ–º—è –æ—Ç–≤–µ—Ç–∞ –Ω–∞ **–û–î–ò–ù** –∑–∞–ø—Ä–æ—Å.
–ú–∏–ª–ª–∏—Å–µ–∫—É–Ω–¥—ã.

### Throughput

–≠—Ç–æ **–°–ö–û–õ–¨–ö–û** –∑–∞–ø—Ä–æ—Å–æ–≤ –º—ã –º–æ–∂–µ–º –æ–±—Ä–∞–±–æ—Ç–∞—Ç—å **–≤ —Å–µ–∫—É–Ω–¥—É**.
RPS, QPS, ops/sec.

–û–Ω–∏ –Ω–µ—Ä–∞–∑—Ä—ã–≤–Ω–æ —Å–≤—è–∑–∞–Ω—ã:

```text
–ï—Å–ª–∏ –Ω–∞–≥—Ä—É–∑–∫–∞ > throughput ‚Üí latency —Ä–∞—Å—Ç—ë—Ç.  
–ï—Å–ª–∏ latency —Ä–∞—Å—Ç—ë—Ç ‚Üí throughput –ø–∞–¥–∞–µ—Ç.  
–ï—Å–ª–∏ —Ä–∞—Å—Ç—ë—Ç concurrency ‚Üí —Ä–∞—Å—Ç—ë—Ç latency.
```

–≠—Ç–æ –Ω–µ –¥–≤–µ –Ω–µ–∑–∞–≤–∏—Å–∏–º—ã–µ –º–µ—Ç—Ä–∏–∫–∏.
–≠—Ç–æ –¥–≤–∞ –∫–æ–Ω—Ü–∞ –æ–¥–Ω–æ–π —Ç—Ä—É–±—ã, –∫–æ—Ç–æ—Ä–∞—è –∑–∞–±–∏–≤–∞–µ—Ç—Å—è –ø—Ä–∏ –ø–µ—Ä–µ–≥—Ä—É–∑–µ.

---

# üìê –í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è –¥–µ–≥—Ä–∞–¥–∞—Ü–∏–∏

```mermaid
graph TD
A[–í—Ö–æ–¥—è—â–∏–π –ø–æ—Ç–æ–∫ –≤—ã—Ä–æ—Å] --> B[–û—á–µ—Ä–µ–¥—å —Ä–∞—Å—Ç—ë—Ç]
B --> C[Latency —Ä–∞—Å—Ç—ë—Ç]
C --> D[Throughput –ø–∞–¥–∞–µ—Ç]
D --> E[–û—á–µ—Ä–µ–¥—å —Ä–∞—Å—Ç—ë—Ç –µ—â—ë –±—ã—Å—Ç—Ä–µ–µ]
E --> C
```

–≠—Ç–æ –∏ –µ—Å—Ç—å **doom loop**.
–õ—é–±–∞—è —Å–∏—Å—Ç–µ–º–∞, –∫–æ—Ç–æ—Ä–∞—è –Ω–µ –æ–≥—Ä–∞–Ω–∏—á–∏–≤–∞–µ—Ç –Ω–∞–≥—Ä—É–∑–∫—É ‚Äî —É–º–µ–µ—Ç –ø–∞–¥–∞—Ç—å —Å–∞–º–∞ –Ω–∞ —Å–µ–±—è.

---

# üìä –ì–õ–ê–í–ù–ê–Ø –§–û–†–ú–£–õ–ê (Little‚Äôs Law) (—É–∂–µ —Ä–∞–∑–±–∏—Ä–∞–ª–∏ –≤ latency)

```
Latency = Concurrency / Throughput
```

–ü—Ä–∏–º–µ—Ä:

* concurrency = 3000
* throughput = 1000 RPS

latency = 3 —Å–µ–∫—É–Ω–¥—ã.

–ë–µ–∑ –º–∞–≥–∏–∏.
–ü—Ä–æ—Å—Ç–æ –∑–∞–∫–æ–Ω—ã –æ—á–µ—Ä–µ–¥–µ–π.

---

# üî• –ü–†–ò–ú–ï–† –ò–ó –†–ï–ê–õ–¨–ù–û–ì–û –ú–ò–†–ê

Redis –æ—Ç–≤–µ—á–∞–µ—Ç –∑–∞ 1‚Äì2 ms. –ò–¥–µ–∞–ª—å–Ω–æ.

–ù–æ:

* –Ω–∞ hot key –æ–Ω –≤—ã–¥–µ—Ä–∂–∏–≤–∞–µ—Ç —Ç–æ–ª—å–∫–æ 50‚Äì100k RPS,
* –≤—ã –¥–∞—ë—Ç–µ 200k –≤—Ö–æ–¥—è—â–µ–≥–æ,
* throughput –∫–æ–Ω—á–∞–µ—Ç—Å—è,
* latency —Ä–∞—Å—Ç—ë—Ç –¥–æ 10ms,
* –ø–æ—Ç–æ–º 50ms,
* –ø–æ—Ç–æ–º 200ms,
* –ø–æ—Ç–æ–º Redis —Å–±—Ä–∞—Å—ã–≤–∞–µ—Ç –∫–æ–Ω–Ω–µ–∫—Ç—ã.

–î–∞–∂–µ –∂–µ–ª–µ–∑–Ω—ã–π Redis –∏–º–µ–µ—Ç –∂—ë—Å—Ç–∫–∏–π –ø–æ—Ç–æ–ª–æ–∫.

---

# üß© –ê–ù–ê–õ–û–ì–ò–Ø

**Latency** ‚Äî —Å–∫–æ—Ä–æ—Å—Ç—å –æ–¥–Ω–æ–≥–æ –∫–∞—Å—Å–∏—Ä–∞ –æ–±—Å–ª—É–∂–∏—Ç—å –ø–æ–∫—É–ø–∞—Ç–µ–ª—è.
**Throughput** ‚Äî —Å–∫–æ–ª—å–∫–æ –ø–æ–∫—É–ø–∞—Ç–µ–ª–µ–π –ø—Ä–æ–π–¥—ë—Ç —á–µ—Ä–µ–∑ –∫–∞—Å—Å—É –∑–∞ –º–∏–Ω—É—Ç—É.

–ï—Å–ª–∏ –ø–æ–∫—É–ø–∞—Ç–µ–ª–µ–π –ø—Ä–∏—Ö–æ–¥–∏—Ç –±–æ–ª—å—à–µ, —á–µ–º –∫–∞—Å—Å–∞ —É—Å–ø–µ–≤–∞–µ—Ç –æ–±—Å–ª—É–∂–∏—Ç—å:

* –æ—á–µ—Ä–µ–¥—å —Ä–∞—Å—Ç—ë—Ç,
* throughput –Ω–µ —Ä–∞—Å—Ç—ë—Ç ‚Äî —É–ø—ë—Ä–ª–∞—Å—å,
* –ª—é–¥–∏ –±–µ—Å—è—Ç—Å—è.

–° backend-—Å–∏—Å—Ç–µ–º–∞–º–∏ —Ç–æ –∂–µ —Å–∞–º–æ–µ.

---

# 1. –ë–û–õ–¨: –ü–û–ß–ï–ú–£ ‚Äú–î–û–ë–ê–í–ò–ú –°–ï–†–í–ï–†–û–í‚Äù –ù–ï –†–ê–ë–û–¢–ê–ï–¢

* –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ **–Ω–µ–ª–∏–Ω–µ–π–Ω–æ**
* –ø–æ—Å–ª–µ —Ç–æ—á–∫–∏ –Ω–∞—Å—ã—â–µ–Ω–∏—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å **–ø–∞–¥–∞–µ—Ç**
* –æ—á–µ—Ä–µ–¥–∏ —Ñ–æ—Ä–º–∏—Ä—É—é—Ç—Å—è **–≤–µ–∑–¥–µ**
* –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏ —Å—Ç–∞–Ω–æ–≤—è—Ç—Å—è **—Ü–µ–Ω—Ç—Ä–∞–ª—å–Ω–æ–π —Ç–æ—á–∫–æ–π –±—É—Ç—ã–ª–æ—á–Ω–æ–≥–æ –≥–æ—Ä–ª—ã—à–∫–∞**
* –¥–∞–∂–µ –û–î–ò–ù –º–µ–¥–ª–µ–Ω–Ω—ã–π –∑–∞–ø—Ä–æ—Å –ª–æ–º–∞–µ—Ç –≤—Å—é —Ü–µ–ø–æ—á–∫—É

---

# 2. –ó–ê–ö–û–ù–´ –ú–ê–°–®–¢–ê–ë–ò–†–û–í–ê–ù–ò–Ø

## ‚úî 2.1. –ó–∞–∫–æ–Ω –ê–º–¥–∞–ª—è (Amdahl‚Äôs Law)

–ì–æ–≤–æ—Ä–∏—Ç –ø—Ä–æ—Å—Ç–æ–µ:

- > –µ—Å–ª–∏ —Ö–æ—Ç—è –±—ã –º–∞–ª–µ–Ω—å–∫–∞—è —á–∞—Å—Ç—å –ø—Ä–æ–≥—Ä–∞–º–º—ã –ù–ï –ø–∞—Ä–∞–ª–ª–µ–ª–∏—Ç—Å—è ‚Äî –æ–Ω–∞ –æ–≥—Ä–∞–Ω–∏—á–∏–≤–∞–µ—Ç —É—Å–∫–æ—Ä–µ–Ω–∏–µ.
- –°–∏—Å—Ç–µ–º–∞ —É—Å–∫–æ—Ä—è–µ—Ç—Å—è —Ä–æ–≤–Ω–æ –Ω–∞—Å—Ç–æ–ª—å–∫–æ, –Ω–∞—Å–∫–æ–ª—å–∫–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç –µ—ë —Å–∞–º—ã–π –º–µ–¥–ª–µ–Ω–Ω—ã–π –Ω–µ–ø–∞—Ä–∞–ª–ª–µ–ª—è—â–∏–π—Å—è –∫—É—Å–æ–∫.
- –¥–µ–≤—è—Ç—å –∂–µ–Ω—â–∏–Ω –∑–∞ –æ–¥–∏–Ω –º–µ—Å—è—Ü –Ω–µ —Ä–æ–¥—è—Ç —Ä–µ–±—ë–Ω–∫–∞.

–ü—Ä–∏–º–µ—Ä:

* 95% –º–æ–∂–Ω–æ —Ä–∞—Å–ø–∞—Ä–∞–ª–ª–µ–ª–∏—Ç—å,
* 5% ‚Äî –Ω–µ—Ç,

‚Üí –º–∞–∫—Å–∏–º—É–º —É—Å–∫–æ—Ä–µ–Ω–∏—è = x20.
–•–æ—Ç—å 1000 —Å–µ—Ä–≤–µ—Ä–æ–≤ —Å—Ç–∞–≤—å.

---

## ‚úî 2.2. –ó–∞–∫–æ–Ω –ì—É—Å—Ç–∞—Ñ—Å–æ–Ω–∞ (Gustafson‚Äôs Law) (usl)

–ö–æ–≥–¥–∞ —É –Ω–∞—Å –ø–æ—è–≤–ª—è–µ—Ç—Å—è –±–æ–ª—å—à–µ –≤—ã—á–∏—Å–ª–∏—Ç–µ–ª—å–Ω–æ–π –º–æ—â–Ω–æ—Å—Ç–∏, –º—ã –æ–±—ã—á–Ω–æ –Ω–µ —É—Å–∫–æ—Ä—è–µ–º –º–∞–ª–µ–Ω—å–∫–∏–µ –∑–∞–¥–∞—á–∏ ‚Äî –º—ã —Ä–µ—à–∞–µ–º –±–æ–ª–µ–µ –º–∞—Å—à—Ç–∞–±–Ω—ã–µ –∑–∞–¥–∞—á–∏. –°–∏–º—É–ª—è—Ü–∏–∏ –ø–æ–≥–æ–¥—ã —Å—Ç–∞–Ω–æ–≤—è—Ç—Å—è –¥–µ—Ç–∞–ª—å–Ω–µ–µ, –º–æ–¥–µ–ª–∏ –Ω–µ–π—Ä–æ—Å–µ—Ç–µ–π ‚Äî –±–æ–ª—å—à–µ, –≥—Ä–∞—Ñ–∏–∫–∞ ‚Äî —Ä–µ–∞–ª–∏—Å—Ç–∏—á–Ω–µ–µ.
–£ –Ω–∞—Å –µ—Å—Ç—å –±–æ–ª—å—à–µ —Ä–µ—Å—É—Ä—Å–æ–≤, –¥–∞–≤–∞–π—Ç–µ —Ä–µ—à–∏–º –ë√ì–õ–¨–®–£–Æ –∑–∞–¥–∞—á—É –∑–∞ —Ç–æ –∂–µ –≤—Ä–µ–º—è"
–ú—ã –Ω–µ –ø—ã—Ç–∞–µ–º—Å—è —É—Å–∫–æ—Ä–∏—Ç—å —Å—Ç–∞—Ä—É—é –∑–∞–¥–∞—á—É, –º—ã –±–µ—Ä—ë–º –Ω–æ–≤—É—é, –±–æ–ª—å—à—É—é

–ü—Ä–æ—Ç–∏–≤–æ–ø–æ–ª–æ–∂–Ω–æ—Å—Ç—å –ê–º–¥–∞–ª—é:

> –µ—Å–ª–∏ —Å–∞–º–∞ –∑–∞–¥–∞—á–∞ —Ä–∞—Å—Ç—ë—Ç ‚Üí –ø–∞—Ä–∞–ª–ª–µ–ª–∏–∑–º —Ä–∞–±–æ—Ç–∞–µ—Ç –ª—É—á—à–µ.

–•–æ—Ä–æ—à–æ –ø–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è –∞–Ω–∞–ª–∏—Ç–∏–∫–∏, ML, batch-–ø—Ä–æ—Ü–µ—Å—Å–∏–Ω–≥–∞.
–ü–ª–æ—Ö–æ ‚Äî –¥–ª—è –≤–µ–±–∞ –∏ API.

—Ç–µ–ø–µ—Ä—å –º—ã –∑–∞ 9 –º–µ—Å—è—Ü–µ–≤ —Ä–æ–∂–∞–µ–º 9 –¥–µ—Ç–µ–π, –∞ –Ω–µ 1

---
–≠—Ç–æ **—Å–∞–º–∞—è –ø—Ä–∞–∫—Ç–∏—á–Ω–∞—è** –º–æ–¥–µ–ª—å –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏—è –∏–∑ –≤—Å–µ—Ö.
–ê–º–¥–∞–ª—å —Å–ª–∏—à–∫–æ–º —É–ø—Ä–æ—â—ë–Ω.
–ì—É—Å—Ç–∞—Ñ—Å–æ–Ω —Å–ª–∏—à–∫–æ–º –æ–ø—Ç–∏–º–∏—Å—Ç–∏—á–µ–Ω.

**–ê USL –æ–±—ä—è—Å–Ω—è–µ—Ç —Ä–µ–∞–ª—å–Ω—ã–π –ø—Ä–æ–¥, –≤ –∫–æ—Ç–æ—Ä–æ–º –≤—Å—ë –ª–æ–º–∞–µ—Ç—Å—è.**

USL –≥–æ–≤–æ—Ä–∏—Ç:

> –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å —Ä–∞—Å—Ç—ë—Ç‚Ä¶
> –ø–æ—Ç–æ–º –ø–µ—Ä–µ—Å—Ç–∞—ë—Ç —Ä–∞—Å—Ç–∏‚Ä¶
> –ø–æ—Ç–æ–º –Ω–∞—á–∏–Ω–∞–µ—Ç –ø–∞–¥–∞—Ç—å.
> –ò —ç—Ç–æ –Ω–æ—Ä–º–∞–ª—å–Ω–æ.

–î–∞, –ø–∞–¥–∞—Ç—å.
–î–æ–±–∞–≤–ª—è–µ—à—å —Å–µ—Ä–≤–µ—Ä–∞ ‚Üí –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å —Ö—É–∂–µ.
–ó–≤—É—á–∏—Ç –∫–∞–∫ —Ç–≤–æ–π –ø–µ—Ä–≤—ã–π —Å—Ç–∞—Ä—Ç–∞–ø.

---

# ‚úî –§–æ—Ä–º—É–ª–∞ (–Ω–µ –±–æ–ª—å–Ω–æ)

```
C(N) = N / (1 + œÉ (N ‚àí 1) + Œ∫ N (N ‚àí 1))
```

* N ‚Äî –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —É–∑–ª–æ–≤ / –ø–æ—Ç–æ–∫–æ–≤ / –≤–æ—Ä–∫–µ—Ä–æ–≤
* œÉ ‚Äî –∫–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç –∫–æ–Ω–∫—É—Ä–µ–Ω—Ü–∏–∏ (contention)
* Œ∫ ‚Äî –∫–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç –∫–æ–æ—Ä–¥–∏–Ω–∞—Ü–∏–∏ (coherence)

### –ü–µ—Ä–µ–≤–æ–¥ –Ω–∞ —á–µ–ª–æ–≤–µ—á–µ—Å–∫–∏–π:

* **œÉ ‚Äî —ç—Ç–æ —Å–∫–æ–ª—å–∫–æ –º—ã —Ç—Ä–∞—Ç–∏–º –≤—Ä–µ–º–µ–Ω–∏ –Ω–∞ –±–æ—Ä—å–±—É –¥—Ä—É–≥ —Å –¥—Ä—É–≥–æ–º**
  (–¥–æ—Å—Ç—É–ø –∫ –ë–î, –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏, shared —Ä–µ—Å—É—Ä—Å—ã, hot keys)

**œÉ (contention)**
–≠—Ç–æ –∫–∞–∫ –æ–¥–∏–Ω —Ç—É–∞–ª–µ—Ç –Ω–∞ 50 —á–µ–ª–æ–≤–µ–∫.
–í—Ä–æ–¥–µ –ª—é–¥–µ–π –±–æ–ª—å—à–µ, –Ω–æ –±—ã—Å—Ç—Ä–µ–π —ç—Ç–æ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç.

* **Œ∫ ‚Äî —ç—Ç–æ —Å–∫–æ–ª—å–∫–æ –º—ã —Ç—Ä–∞—Ç–∏–º –≤—Ä–µ–º–µ–Ω–∏ –Ω–∞ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—é**
  (—Ä–µ–ø–ª–∏–∫–∞—Ü–∏–∏, —Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω–∏–µ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π, –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∫—ç—à–µ–π, –º–µ–∂—Å–µ—Ä–≤–µ—Ä–Ω—ã–µ –ø—Ä–æ—Ç–æ–∫–æ–ª—ã)

**Œ∫ (coherence)**
–≠—Ç–æ –∫–∞–∫ –µ–∂–µ–¥–Ω–µ–≤–∫–∞ –≤ –¢–∏–º–ª–∏–¥–µ, –∫–æ–≥–¥–∞ 50 —á–µ–ª–æ–≤–µ–∫ –ø—ã—Ç–∞—é—Ç—Å—è –¥–æ–≥–æ–≤–æ—Ä–∏—Ç—å—Å—è.
–ß–µ–º –±–æ–ª—å—à–µ –ª—é–¥–µ–π, —Ç–µ–º –¥–æ–ª—å—à–µ —Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω–∏–µ.

---

# ‚úî –ß—Ç–æ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –≥—Ä–∞—Ñ–∏–∫ (—Å—É—Ç—å –≤ —Ç—Ä—ë—Ö —Ñ–∞–∑–∞—Ö)

## 1) –§–∞–∑–∞ —Ä–æ—Å—Ç–∞ (linear scale, –≤—Å—ë —Ö–æ—Ä–æ—à–æ)

–ü—Ä–∏ –º–∞–ª—ã—Ö –Ω–∞–≥—Ä—É–∑–∫–∞—Ö:

* contention ‚âà 0
* coherence ‚âà 0
* performance ‚âà N

```
+------- –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ—á—Ç–∏ –ª–∏–Ω–µ–π–Ω–æ–µ
```

---

## 2) –§–∞–∑–∞ –ø–ª–∞—Ç–æ (—É–ø—ë—Ä–ª–∏—Å—å –≤ shared resource)

–ü–æ—è–≤–ª—è–µ—Ç—Å—è œÉ (contention):

* lock –Ω–∞ –æ–¥–Ω–æ–π —Å—Ç—Ä–æ–∫–µ
* –≥–ª–æ–±–∞–ª—å–Ω—ã–π —Å—á—ë—Ç—á–∏–∫
* –æ–¥–∏–Ω Redis-–∫–ª—é—á
* –æ–¥–∏–Ω —à–∞—Ä–¥ –≥–æ—Ä—è—á–∏–π
* –æ–¥–∏–Ω –ø–æ—Ç–æ–∫ –ø–∏—à–µ—Ç –≤ Kafka —Å–ª–∏—à–∫–æ–º –º–µ–¥–ª–µ–Ω–Ω–æ

–°–∏—Å—Ç–µ–º–∞ –ø–µ—Ä–µ—Å—Ç–∞—ë—Ç —Ä–∞—Å—Ç–∏:

```
------ plateau ------
```

---

## 3) –§–∞–∑–∞ –¥–µ–≥—Ä–∞–¥–∞—Ü–∏–∏ (–∫–æ–æ—Ä–¥–∏–Ω–∞—Ü–∏—è –≤—Å–µ—Ö —É–±–∏–≤–∞–µ—Ç)

–í–∫–ª—é—á–∞–µ—Ç—Å—è Œ∫ (coherence):

* —Ä–∞—Å—Ö–æ–¥—ã –Ω–∞ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—é –º–µ–∂–¥—É –Ω–æ–¥–∞–º–∏
* —Ä–µ–ø–ª–∏–∫–∞—Ü–∏—è –≤—Å–µ—Ö –¥–∞–Ω–Ω—ã—Ö –≤—Å–µ–º
* –≥–ª–æ–±–∞–ª—å–Ω—ã–µ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏
* invalidation –∫—ç—à–∞ –Ω–∞ –≤—Å–µ—Ö –Ω–æ–¥–∞—Ö
* –ø–µ—Ä–µ–∫—Ä—ë—Å—Ç–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã ‚Äú–∞ –¥–∞–π –º–Ω–µ —Ç–≤–æ–∏ –¥–∞–Ω–Ω—ã–µ‚Äù

–ü–æ–ª—É—á–∞–µ—Ç—Å—è –≤–æ—Ç —ç—Ç–æ:

```
  /\       ‚Üê –º–∞–∫—Å–∏–º—É–º
 /  \
/    \     ‚Üê —á–µ–º –±–æ–ª—å—à–µ —Ä–µ—Å—É—Ä—Å–æ–≤, —Ç–µ–º —Ö—É–∂–µ
```

–î–∞-–¥–∞, **—Å–∏—Å—Ç–µ–º–∞ —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è —Ö—É–∂–µ –∏–∑-–∑–∞ —Ä–æ—Å—Ç–∞ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ —É–∑–ª–æ–≤**.

–ö–ª–∞—Å—Å–∏–∫–∞: ‚Äú–¥–æ–±–∞–≤–∏–º –µ—â—ë 20 –≤–æ—Ä–∫–µ—Ä–æ–≤, –∏ –æ—á–µ—Ä–µ–¥—å –ø–æ—á–∏—Å—Ç–∏—Ç—Å—è‚Äù‚Ä¶
–∞ –ø–æ—Ç–æ–º –≤—Å—ë –º–µ–¥–ª–µ–Ω–Ω–µ–µ –∏ –º–µ–¥–ª–µ–Ω–Ω–µ–µ.

---


# ‚úî –ü—Ä–∏–º–µ—Ä –∏–∑ —Ä–µ–∞–ª—å–Ω–æ–≥–æ –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞

### –ü—Ä–∏–º–µ—Ä 1: Redis hot key

* —á—Ç–µ–Ω–∏–µ –≥–æ—Ä—è—á–µ–≥–æ –∫–ª—é—á–∞ = –±—ã—Å—Ç—Ä–æ
* –Ω–æ Redis –æ–¥–Ω–æ–ø–æ—Ç–æ—á–Ω—ã–π
* 100–∫ RPS ‚Üí –≤—Å—ë –Ω–æ—Ä–º–∞–ª—å–Ω–æ
* 500–∫ RPS ‚Üí –∫–æ–Ω–∫—É—Ä–µ–Ω—Ü–∏—è —Ä–∞—Å—Ç—ë—Ç
* 2 –º–ª–Ω RPS ‚Üí Redis –Ω–∞—á–∏–Ω–∞–µ—Ç —Ç–æ—Ä–º–æ–∑–∏—Ç—å ‚Üí throughput –ø–∞–¥–∞–µ—Ç
* –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –µ—â—ë –±–æ–ª—å—à–µ —Ä–µ—Ç—Ä–∞–∏—Ç ‚Üí —Å–∏—Å—Ç–µ–º–∞ –ø–∞–¥–∞–µ—Ç –ø–æ–ª–Ω–æ—Å—Ç—å—é

–≠—Ç–æ —á–∏—Å—Ç—ã–π USL:

* œÉ —Ä–∞—Å—Ç—ë—Ç ‚Äî –ø–µ—Ä–µ—Å—Ç–∞—ë—Ç –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞—Ç—å—Å—è
* Œ∫ —Ä–∞—Å—Ç—ë—Ç (—Å–µ—Ç–µ–≤–∞—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è, TCP congestion) ‚Äî –Ω–∞—á–∏–Ω–∞–µ—Ç –¥–µ–≥—Ä–∞–¥–∏—Ä–æ–≤–∞—Ç—å

---

### –ü—Ä–∏–º–µ—Ä 2: Postgres sequence

–¢—ã —Å–¥–µ–ª–∞–ª `serial` –∏–ª–∏ `nextval()` –Ω–∞ —Å—á—ë—Ç—á–∏–∫–µ –∑–∞–∫–∞–∑–æ–≤.

–°–Ω–∞—á–∞–ª–∞:

* 2 —Å–µ—Ä–≤–µ—Ä–∞ ‚Üí –æ—Ç–ª–∏—á–Ω–æ
* 4 —Å–µ—Ä–≤–µ—Ä–∞ ‚Üí –Ω–æ—Ä–º
* 8 —Å–µ—Ä–≤–µ—Ä–æ–≤ ‚Üí seq-lock –Ω–∞—á–∏–Ω–∞–µ—Ç –≤–∏—Å–µ—Ç—å
* 16 —Å–µ—Ä–≤–µ—Ä–æ–≤ ‚Üí throughput –ø–∞–¥–∞–µ—Ç
* 32 —Å–µ—Ä–≤–µ—Ä–∞ ‚Üí –±–∞–∑–∞ —É–º–∏—Ä–∞–µ—Ç

---

### –ü—Ä–∏–º–µ—Ä 3: –ü—É–ª PHP-FPM –≤–æ—Ä–∫–µ—Ä–æ–≤

* —Å—Ç–∞–≤–∏—à—å 50 –≤–æ—Ä–∫–µ—Ä–æ–≤ ‚Üí –Ω–æ—Ä–º
* —Å—Ç–∞–≤–∏—à—å 200 ‚Üí –∫–æ–Ω—Ç–µ–∫—Å—Ç–Ω—ã–µ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏—è –Ω–∞—á–∏–Ω–∞—é—Ç –∂—Ä–∞—Ç—å CPU
* —Å—Ç–∞–≤–∏—à—å 600 ‚Üí latency —Ä–∞—Å—Ç—ë—Ç
* —Å—Ç–∞–≤–∏—à—å 1200 ‚Üí —Å–µ—Ä–≤–µ—Ä –≤–∏—Å–∏—Ç, –ø–æ—Ç–æ–º—É —á—Ç–æ CPU —Ç–æ–ª—å–∫–æ –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫–æ–º –∑–∞–Ω—è—Ç

–≠—Ç–æ —Å–Ω–æ–≤–∞ USL:

* œÉ = –±–æ—Ä—å–±–∞ –∑–∞ CPU
* Œ∫ = overhead –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫–∞ —è–¥—Ä–∞

---

# ‚úî –ß—Ç–æ –¥–∞—ë—Ç –∑–∞–∫–æ–Ω –ì—é–Ω—Ç–µ—Ä–∞ –∏–Ω–∂–µ–Ω–µ—Ä—É (–Ω–∞ –ø—Ä–∞–∫—Ç–∏–∫–µ)

1. **–í—ã—è—Å–Ω–∏—Ç—å —Ç–æ—á–∫—É –æ–ø—Ç–∏–º–∞–ª—å–Ω–æ–≥–æ N**
   –ì–¥–µ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –º–∞–∫—Å–∏–º–∞–ª—å–Ω–∞.

2. **–ü–æ–Ω—è—Ç—å, —á—Ç–æ ‚Äú–¥–æ–±–∞–≤–∏—Ç—å –µ—â—ë —Ä–µ—Å—É—Ä—Å–æ–≤‚Äù –Ω–µ –ø–æ–º–æ–∂–µ—Ç**
   –ï—Å–ª–∏ œÉ –∏ Œ∫ –≤—ã—Å–æ–∫–∏ ‚Äî –Ω—É–∂–µ–Ω —Ä–µ—Ñ–∞–∫—Ç–æ—Ä, –∞ –Ω–µ –∂–µ–ª–µ–∑–æ.

3. **–†–∞—Å–ø–æ–∑–Ω–∞—Ç—å —Ç—Ä–∏ –∏—Å—Ç–æ—á–Ω–∏–∫–∞ –±–æ–ª–∏:**

  * contention ‚Üí —É–±–∏—Ä–∞–µ–º shared —Ä–µ—Å—É—Ä—Å—ã
  * coherence ‚Üí —É–±–∏—Ä–∞–µ–º –≥–ª–æ–±–∞–ª—å–Ω—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏
  * sequential ‚Üí –∏–∑–±–∞–≤–ª—è–µ–º—Å—è –æ—Ç —É–∑–∫–∏—Ö –º–µ—Å—Ç

4. **–ü–æ–Ω—è—Ç—å, –ø–æ—á–µ–º—É 2PC, –≥–ª–æ–±–∞–ª—å–Ω—ã–µ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ –∏ shared counters ‚Äî –∑–ª–æ.**

5. **–û–±–æ—Å–Ω–æ–≤–∞—Ç—å –º–µ–Ω–µ–¥–∂–µ—Ä–∞–º, –ø–æ—á–µ–º—É ‚Äú–ø–æ—Å—Ç–∞–≤—å—Ç–µ –Ω–∞ –∫–ª–∞—Å—Ç–µ—Ä 20 –∏–Ω—Å—Ç–∞–Ω—Å–æ–≤‚Äù ‚Äî –Ω–µ —Ä–µ—à–µ–Ω–∏–µ.**


```mermaid
graph TD
A[–£–≤–µ–ª–∏—á–∏–≤–∞–µ–º –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —É–∑–ª–æ–≤ N] --> B[–†–∞—Å—Ç—ë—Ç throughput]
B --> C[–î–æ—Å—Ç–∏–≥–∞–µ–º –ø–ª–∞—Ç–æ: contention œÉ]
C --> D[–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –ø–∞–¥–∞–µ—Ç: coherence Œ∫]
```

---

## ‚úî 2.4. Little‚Äôs Law (–µ—â—ë —Ä–∞–∑)

–û—Å–Ω–æ–≤–Ω–æ–π –∑–∞–∫–æ–Ω –æ—á–µ—Ä–µ–¥–µ–π:

```
Latency = Concurrency / Throughput
```

–†–∞–±–æ—Ç–∞–µ—Ç –í–°–ï–ì–î–ê.

---

# 3. –ö–†–ò–¢–ò–ß–ï–°–ö–ò–ï –≠–§–§–ï–ö–¢–´, –ö–û–¢–û–†–´–ï –£–ë–ò–í–ê–Æ–¢ –ü–†–û–î

## ‚úî Convoy Effect

–û–¥–∏–Ω —Ç–æ—Ä–º–æ–∑—è—â–∏–π –∑–∞–ø—Ä–æ—Å –¥–µ—Ä–∂–∏—Ç lock ‚Üí –≤—Å–µ –∂–¥—É—Ç.

## ‚úî Head-of-Line Blocking

–ü–µ—Ä–≤—ã–π –≤ –æ—á–µ—Ä–µ–¥–∏ –º–µ–¥–ª–µ–Ω–Ω—ã–π ‚Üí –≤—Å—è –æ—á–µ—Ä–µ–¥—å —É–º–µ—Ä–ª–∞.

## ‚úî Tail Amplification

–ü—Ä–∏ —Ä–æ—Å—Ç–µ –Ω–∞–≥—Ä—É–∑–∫–∏ —Ö–≤–æ—Å—Ç —É–≤–µ–ª–∏—á–∏–≤–∞–µ—Ç—Å—è –±—ã—Å—Ç—Ä–µ–µ —Å—Ä–µ–¥–Ω–µ–π.

## ‚úî Coordinated Omission

–ú–µ—Ç—Ä–∏–∫–∏ –ª–≥—É—Ç.
–°–∏—Å—Ç–µ–º–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç –º–µ–¥–ª–µ–Ω–Ω–æ, –Ω–æ –≥—Ä–∞—Ñ–∏–∫–∏ –≥–ª–∞–¥–∫–∏–µ, –ø–æ—Ç–æ–º—É —á—Ç–æ –º–µ—Ç—Ä–∏–∫–∏ –Ω–µ —É—á–∏—Ç—ã–≤–∞—é—Ç –º–æ–º–µ–Ω—Ç—ã, –∫–æ–≥–¥–∞ –∑–∞–ø—Ä–æ—Å—ã –ø—Ä–æ—Å—Ç–æ –Ω–µ –º–æ–≥–ª–∏ –ø–æ–ø–∞—Å—Ç—å –≤ —Å–∏—Å—Ç–µ–º—É (–∫–ª–∞—Å—Å–∏—á–µ—Å–∫–∞—è –æ—à–∏–±–∫–∞ –≤ –Ω–∞–≥—Ä—É–∑–æ—á–Ω—ã—Ö —Ç–µ—Å—Ç–∞—Ö).

---

# 4. –†–ï–ê–õ–¨–ù–ê–Ø –ë–û–õ–¨ –£ –ò–ù–ñ–ï–ù–ï–†–û–í

* RabbitMQ –æ—á–µ—Ä–µ–¥—å –∑–∞–º–µ—Ä–ª–∞ –∏–∑-–∑–∞ –æ–¥–Ω–æ–≥–æ slow consumer
* Redis –Ω–µ –≤—ã—Ç—è–≥–∏–≤–∞–µ—Ç hot key
* Postgres —É–ø—ë—Ä—Å—è –≤ row lock
* PHP-FPM –¥–æ—Å—Ç–∏–≥ max_children –∏ –Ω–∞—á–∞–ª —Å—Ç–∞–≤–∏—Ç—å –æ—á–µ—Ä–µ–¥—å –Ω–∞ –≤–æ—Ä–∫–µ—Ä—ã
* Kafka consumer lag —Ä–∞—Å—Ç—ë—Ç –∏–∑-–∑–∞ –æ–¥–Ω–æ–≥–æ —Ç–æ—Ä–º–æ–∑–∞
* gRPC —Ä–µ—Ç—Ä–∞–∏ —É–º–Ω–æ–∂–∞—é—Ç –Ω–∞–≥—Ä—É–∑–∫—É ‚Üí –∫–ª–∞—Å—Ç–µ—Ä —É–º–∏—Ä–∞–µ—Ç

---

# 5. –ü–†–ê–ö–¢–ò–ß–ï–°–ö–ò–ï –°–ü–û–°–û–ë–´ –†–ï–®–ò–¢–¨ –≠–¢–£ –ë–û–õ–¨

## ‚úî –ò–∑–±–µ–≥–∞—Ç—å –∫–æ–æ—Ä–¥–∏–Ω–∞—Ü–∏–∏

* —É–±—Ä–∞—Ç—å –≥–ª–æ–±–∞–ª—å–Ω—ã–µ mutex‚Äô—ã
* –æ—Ç–∫–∞–∑–∞—Ç—å—Å—è –æ—Ç –≥–ª–æ–±–∞–ª—å–Ω—ã—Ö –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω—ã—Ö ID
* —É–±—Ä–∞—Ç—å centralized counters

## ‚úî Segregation of workloads

–†–∞–∑–¥–µ–ª–∏—Ç—å:

* write-heavy / read-heavy
* user traffic / batch jobs
* background tasks / synchronous API

## ‚úî –ò–∑–æ–ª—è—Ü–∏—è hot keys

* –æ—Ç–¥–µ–ª—å–Ω—ã–π Redis tier
* microsharding
* L1 cache

## ‚úî Backpressure

–°–∏—Å—Ç–µ–º–∞ –¥–æ–ª–∂–Ω–∞ —É–º–µ—Ç—å **–æ—Ç–∫–∞–∑—ã–≤–∞—Ç—å**, –∞ –Ω–µ —É–º–∏—Ä–∞—Ç—å:

* HTTP 429/503
* –ª–∏–º–∏—Ç—ã –Ω–∞ queue length
* –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è concurrency
* drop overload traffic–í–æ—Ç –∫–æ–º–ø–∞–∫—Ç–Ω–∞—è –≤—Å—Ç–∞–≤–∫–∞, –∫–æ—Ç–æ—Ä—É—é –º–æ–∂–Ω–æ –ø—Ä—è–º–æ –≤ —Å—Ü–µ–Ω–∞—Ä–∏–π –≤–ª–µ–ø–∏—Ç—å ‚Äî –∫–æ—Ä–æ—Ç–∫–æ, –ø—Ä–∞–∫—Ç–∏—á–Ω–æ –∏ –±–µ–∑ –ø–µ—Ä–µ–≥—Ä—É–∑–∞.

–ü—Ä–µ–¥—Å—Ç–∞–≤—å, —É —Ç–µ–±—è PHP-FPM –Ω–∞—Å—Ç—Ä–æ–µ–Ω –Ω–∞:

* `pm.max_children = 50`

–≠—Ç–æ –∑–Ω–∞—á–∏—Ç: –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ –º–æ–∂–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å **50 –∑–∞–ø—Ä–æ—Å–æ–≤**, –æ—Å—Ç–∞–ª—å–Ω—ã–µ —Å—Ç–∞–Ω–æ–≤—è—Ç—Å—è –≤ –æ—á–µ—Ä–µ–¥—å.

–¢–µ–ø–µ—Ä—å –ø—Ä–∏–ª–µ—Ç–∞–µ—Ç –ø–∏–∫:

* 200 –∑–∞–ø—Ä–æ—Å–æ–≤ –≤ —Å–µ–∫—É–Ω–¥—É
* –∫–∞–∂–¥—ã–π –∑–∞–Ω–∏–º–∞–µ—Ç –≤–æ—Ä–∫–µ—Ä –Ω–∞ 300 ms

–ß—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –±–µ–∑ backpressure:

1. –ø–µ—Ä–≤—ã–µ 50 –∑–∞–ø—Ä–æ—Å–æ–≤ –∑–∞–Ω—è–ª–∏ –≤–æ—Ä–∫–µ—Ä—ã
2. —Å–ª–µ–¥—É—é—â–∏–µ 150 ‚Äî –≤—Å—Ç–∞—é—Ç –≤ internal queue
3. –æ—á–µ—Ä–µ–¥—å —Ä–∞—Å—Ç—ë—Ç ‚Üí latency —Ä–∞—Å—Ç—ë—Ç
4. –∫–ª–∏–µ–Ω—Ç—ã –Ω–∞—á–∏–Ω–∞—é—Ç —Ä–µ—Ç—Ä–∞–∏—Ç—å ‚Üí –Ω–∞–≥—Ä—É–∑–∫–∞ √ó2
5. –≤—Å–µ –≤–æ—Ä–∫–µ—Ä—ã –∑–∞–±–∏—Ç—ã ‚Üí –≤—Å—ë –≤–∏—Å–∏—Ç
6. FPM –Ω–∞—á–∏–Ω–∞–µ—Ç –æ—Ç–¥–∞–≤–∞—Ç—å 504/502
7. nginx –ø–µ—Ä–µ—Å—Ç–∞—ë—Ç –∂–¥–∞—Ç—å –∏ –¥–æ–±–∏–≤–∞–µ—Ç —Ä–µ—Ç—Ä–∞—è–º–∏
8. —Å–µ—Ä–≤–∏—Å —É–ª–µ—Ç–∞–µ—Ç –≤ —á—ë—Ä–Ω—É—é –¥—ã—Ä—É

–≠—Ç–æ –∫–ª–∞—Å—Å–∏–∫–∞: ‚Äú—É –Ω–∞—Å –Ω–∏—á–µ–≥–æ –Ω–µ –ª–æ–º–∞–ª–æ—Å—å‚Ä¶ –ø–æ–∫–∞ –≤—Å—ë –Ω–µ —Å–ª–æ–º–∞–ª–æ—Å—å‚Äù.

---

## ‚úî –¢–µ–ø–µ—Ä—å —Å backpressure

PHP-FPM (–∏–ª–∏ API Gateway) –¥–µ–ª–∞–µ—Ç –ø—Ä–æ—Å—Ç—É—é –≤–µ—â—å:

* –µ—Å–ª–∏ –æ—á–µ—Ä–µ–¥—å –≤–æ—Ä–∫–µ—Ä–æ–≤ > 20
  ‚Üí –º–≥–Ω–æ–≤–µ–Ω–Ω–æ –æ—Ç–¥–∞—ë–º `429 Too Many Requests`
* –µ—Å–ª–∏ –æ—á–µ—Ä–µ–¥—å > 40
  ‚Üí —Ä–µ–∂–µ–º rate limit –Ω–∞ –≤—Ö–æ–¥–µ
* –µ—Å–ª–∏ –æ—á–µ—Ä–µ–¥—å > 50
  ‚Üí –ø–æ–ª–Ω–æ—Å—Ç—å—é –∑–∞–∫—Ä—ã–≤–∞–µ–º ingress –¥–æ —Å—Ç–∞–±–∏–ª–∏–∑–∞—Ü–∏–∏

–ß—Ç–æ –º–µ–Ω—è–µ—Ç—Å—è?

* –Ω–µ—Ç —Ç–∞–π–º–∞—É—Ç–æ–≤ –ø–æ 30 —Å–µ–∫—É–Ω–¥
* –Ω–µ—Ç retry storm
* –Ω–µ—Ç –ª–∞–≤–∏–Ω—ã –≤ –ë–î
* –Ω–µ—Ç —Ä–æ—Å—Ç–∞ latency
* –Ω–∞–≥—Ä—É–∑–∫–∞ —Ä–µ–∑–∫–æ —Å–±—Ä–∞—Å—ã–≤–∞–µ—Ç—Å—è
* —Å–∏—Å—Ç–µ–º–∞ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç—Å—è –≤ –Ω–æ—Ä–º—É –∑–∞ —Å–µ–∫—É–Ω–¥—ã

–ö–ª–∏–µ–Ω—Ç –ø–æ–ª—É—á–∞–µ—Ç **–±—ã—Å—Ç—Ä—ã–π –æ—Ç–∫–∞–∑**, –∞ –Ω–µ **–¥–æ–ª–≥—É—é —Å–º–µ—Ä—Ç—å**.

---

## ‚úî –°—É—Ç—å

Backpressure ‚Äî —ç—Ç–æ —É–º–µ–Ω–∏–µ —Å–∫–∞–∑–∞—Ç—å:

> ‚Äú–Ø –Ω–µ —É—Å–ø–µ–≤–∞—é. –ü–æ–¥–æ–∂–¥–∏. –ò–ª–∏ –ø—Ä–∏—Ö–æ–¥–∏ –ø–æ–∑–∂–µ.‚Äù

–≠—Ç–æ —Å–ø–∞—Å–∞–µ—Ç PHP, Redis, Postgres, –æ—á–µ—Ä–µ–¥–∏, –±—Ä–æ–∫–µ—Ä—ã –∏ –≤—Å—é –æ—Å—Ç–∞–ª—å–Ω—É—é —Ü–µ–ø–æ—á–∫—É –æ—Ç —Ü–µ–ø–Ω–æ–π —Ä–µ–∞–∫—Ü–∏–∏ –ø–∞–¥–µ–Ω–∏–π.

## ‚úî Circuit Breakers (–æ–±—ä—è—Å–Ω—è–ª–∏ –≤ latency)

–ß—Ç–æ–± –æ–¥–∏–Ω —É–º–∏—Ä–∞—é—â–∏–π —Å–µ—Ä–≤–∏—Å –Ω–µ —É—Ç—è–Ω—É–ª –∑–∞ —Å–æ–±–æ–π 10 –∑–¥–æ—Ä–æ–≤—ã—Ö.

## ‚úî Replication vs Sharding

–î–ª—è —á—Ç–µ–Ω–∏—è ‚Üí —Ä–µ–ø–ª–∏–∫–∏.
–î–ª—è –∑–∞–ø–∏—Å–∏ ‚Üí —à–∞—Ä–¥—ã.

‚Äú–ü–∏—Ö–∞—Ç—å –≤—Å—ë –≤ –æ–¥–Ω—É –±–∞–∑—É‚Äù ‚Äî –ø—Ä—è–º–æ–π –ø—É—Ç—å –∫ row-lock –∞–¥—É.

