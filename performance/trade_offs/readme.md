# –í–°–¢–£–ü–õ–ï–ù–ò–ï (1‚Äì2 –º–∏–Ω)

–¢—ã –æ–ø—Ç–∏–º–∏–∑–∏—Ä—É–µ—à—å latency ‚Üí —É–≤–µ–ª–∏—á–∏–≤–∞–µ—Ç—Å—è —Å—Ç–æ–∏–º–æ—Å—Ç—å.
–£–≤–µ–ª–∏—á–∏–≤–∞–µ—à—å throughput ‚Üí –ø–∞–¥–∞–µ—Ç –∫–æ–Ω—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ—Å—Ç—å.
–î–æ–±–∞–≤–ª—è–µ—à—å –∫—ç—à ‚Üí –ø–æ—è–≤–ª—è—é—Ç—Å—è stale data.
–£–≤–µ–ª–∏—á–∏–≤–∞–µ—à—å —á–∏—Å–ª–æ –≤–æ—Ä–∫–µ—Ä–æ–≤ ‚Üí –≤—Å—ë –≤–¥—Ä—É–≥ —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è –º–µ–¥–ª–µ–Ω–Ω–µ–µ.

–ö–∞–∂–µ—Ç—Å—è, —á—Ç–æ —Å–∏—Å—Ç–µ–º–∞ —Ç–µ–±–µ –º—Å—Ç–∏—Ç –∑–∞ –ø–æ–ø—ã—Ç–∫–∏ —É–ª—É—á—à–∏—Ç—å –µ—ë –∂–∏–∑–Ω—å.

–ù–æ —ç—Ç–æ –Ω–µ –∑–ª–æ–π —É–º—ã—Å–µ–ª.
–≠—Ç–æ **—Ä–µ—Å—É—Ä—Å–Ω—ã–µ trade-offs** ‚Äî —Ñ—É–Ω–¥–∞–º–µ–Ω—Ç–∞–ª—å–Ω–∞—è –ø—Ä–∏—á–∏–Ω–∞, –ø–æ—á–µ–º—É –ª—é–±–æ–µ —É—Å–∫–æ—Ä–µ–Ω–∏–µ —á—Ç–æ-—Ç–æ –ª–æ–º–∞–µ—Ç.

–°–µ–≥–æ–¥–Ω—è —Ä–∞–∑–±–µ—Ä—ë–º:

* –ø–æ—á–µ–º—É –Ω–µ—Ç –Ω–∏ –æ–¥–Ω–æ–π ‚Äú–±–µ—Å–ø–ª–∞—Ç–Ω–æ–π‚Äù –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏,
* –∫–∞–∫ —ç—Ç–∏ trade-offs –ø—Ä–æ—è–≤–ª—è—é—Ç—Å—è –≤ —Ä–µ–∞–ª—å–Ω–æ–º –ø—Ä–æ–¥–µ,
* –∏ –∫–∞–∫–∏–µ —Ä–µ—à–µ–Ω–∏—è —Ä–µ–∞–ª—å–Ω–æ —Ä–∞–±–æ—Ç–∞—é—Ç.

–ü–æ–µ—Ö–∞–ª–∏.

---

# üß® –ë–õ–û–ö 1. –ë–û–õ–¨ (3‚Äì4 –º–∏–Ω)

–ò–Ω–∂–µ–Ω–µ—Ä—ã –ª—é–±—è—Ç –º—ã—Å–ª–∏—Ç—å –ª–∏–Ω–µ–π–Ω–æ:

> ‚Äú–£–º–µ–Ω—å—à–∏–º latency ‚Üí –≤—Å—ë —Å—Ç–∞–Ω–µ—Ç –±—ã—Å—Ç—Ä–µ–µ.‚Äù
> ‚Äú–î–æ–±–∞–≤–∏–º —Å–µ—Ä–≤–µ—Ä ‚Üí throughput –≤—ã—Ä–∞—Å—Ç–µ—Ç.‚Äù
> ‚Äú–ü–æ—Å—Ç–∞–≤–∏–º –±–æ–ª—å—à–µ –≤–æ—Ä–∫–µ—Ä–æ–≤ ‚Üí –æ—á–µ—Ä–µ–¥—å –∏—Å—á–µ–∑–Ω–µ—Ç.‚Äù

–ù–∞ –ø—Ä–∞–∫—Ç–∏–∫–µ:

* —Å–∏—Å—Ç–µ–º–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç **–Ω–µ–ª–∏–Ω–µ–π–Ω–æ**,
* –∫–∞–∂–¥–∞—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –ø–æ—á—Ç–∏ –≤—Å–µ–≥–¥–∞ –ª–æ–º–∞–µ—Ç –¥–≤–µ –¥—Ä—É–≥–∏–µ –≤–µ—â–∏,
* –∏ **–Ω–µ—Ç —Å–ø–æ—Å–æ–±–∞ —É–ª—É—á—à–∏—Ç—å –≤—Å—ë –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ**.

–ü—Ä–∏–º–µ—Ä—ã –±–æ–ª–∏:

* –ø–æ–¥–Ω—è–ª–∏ PHP-FPM max_children ‚Üí –≤—ã—Ä–æ—Å–ª–∏ lock-–∏ –Ω–∞ Redis.
* —É–≤–µ–ª–∏—á–∏–ª–∏ Redis-–∫–ª–∞—Å—Ç–µ—Ä ‚Üí –≤—ã—Ä–æ—Å–ª–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ stale data.
* —É–º–µ–Ω—å—à–∏–ª–∏ –≤—Ä–µ–º—è —Ç–∞–π–º–∞—É—Ç–∞ ‚Üí –≤—ã—Ä–æ—Å retry-storm.
* –≤–∫–ª—é—á–∏–ª–∏ sync replication ‚Üí SLA —É–ø–∞–ª.
* –¥–æ–±–∞–≤–∏–ª–∏ aggressive caching ‚Üí –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –Ω–∞—á–∞–ª–∏ –ø–æ–ª—É—á–∞—Ç—å ‚Äú–≤—á–µ—Ä–∞—à–Ω–∏–µ‚Äù –¥–∞–Ω–Ω—ã–µ.

–≠—Ç–æ –Ω–µ –æ—à–∏–±–∫–∏ –∏–Ω–∂–µ–Ω–µ—Ä–æ–≤.
–≠—Ç–æ –∑–∞–∫–æ–Ω—ã —Ñ–∏–∑–∏–∫–∏ –≤ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω—ã—Ö —Å–∏—Å—Ç–µ–º–∞—Ö.

---

# üß© –ë–õ–û–ö 2. –û–°–ù–û–í–ù–´–ï TRADE-OFF‚Äô–´ (20‚Äì25 –º–∏–Ω)

–¢–µ–ø–µ—Ä—å –ø–æ–π–¥—ë–º –ø–æ –∫–∞–∂–¥–æ–º—É trade-off, –æ—Ç –±–æ–ª–∏ –∫ —Ä–µ—à–µ–Ω–∏—é.

---

# üî∑ **2.1 Latency vs Consistency**

*(—Å–∫–æ—Ä–æ—Å—Ç—å –ø—Ä–æ—Ç–∏–≤ –ø—Ä–∞–≤–¥—ã)*

–ë–æ–ª—å:

> ‚Äú–•–æ—á—É –±—ã—Å—Ç—Ä—ã–π —Å–µ—Ä–≤–∏—Å, –Ω–æ —á—Ç–æ–±—ã –¥–∞–Ω–Ω—ã–µ –±—ã–ª–∏ –≤—Å–µ–≥–¥–∞ —Å–≤–µ–∂–∏–µ.‚Äù

–ù–µ –ø–æ–ª—É—á–∏—Ç—Å—è.

–ß—Ç–æ–±—ã –±—ã—Ç—å –±—ã—Å—Ç—Ä—ã–º ‚Äî –Ω—É–∂–µ–Ω –∫—ç—à.
–ß—Ç–æ–±—ã –±—ã—Ç—å –∫–æ–Ω—Å–∏—Å—Ç–µ–Ω—Ç–Ω—ã–º ‚Äî –Ω—É–∂–µ–Ω —Ç–æ–ª—å–∫–æ –∏—Å—Ç–æ—á–Ω–∏–∫ –∏—Å—Ç–∏–Ω—ã (–ë–î).

### –¢–æ, —á—Ç–æ —É—Å–∫–æ—Ä—è–µ—Ç:

* Redis
* L1-cache
* CDN
* Query caching

### –¢–æ, —á—Ç–æ –ª–æ–º–∞–µ—Ç—Å—è:

* stale reads
* –Ω–µ—Å–∫–æ–ª—å–∫–æ —Å–ª–æ—ë–≤ –∫—ç—à–µ–π —Ä–∞—Å—Ö–æ–¥—è—Ç—Å—è
* TTL –¥–µ–ª–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ –Ω–µ–ø—Ä–µ–¥—Å–∫–∞–∑—É–µ–º–æ —É—Å—Ç–∞—Ä–µ–≤—à–∏–º–∏
* –∏–Ω–≤–∞–ª–∏–¥–∞—Ü–∏—è –ª–æ–º–∞–µ—Ç –∫–æ–≥–µ—Ä–µ–Ω—Ç–Ω–æ—Å—Ç—å

–î–∏–∞–≥—Ä–∞–º–º–∞:

```mermaid
graph LR
A[–£—Å–∫–æ—Ä—è–µ–º —Å –ø–æ–º–æ—â—å—é –∫—ç—à–∞] --> B[Latency ‚Üì]
B --> C[–ù–æ Consistency ‚Üì]
```

–†–µ—à–µ–Ω–∏–µ:

* Event-based invalidation
* TTL + lease refresh
* Cache tagging
* ‚ÄúDon‚Äôt cache what you can‚Äôt invalidate‚Äù

---

# üî∑ **2.2 Throughput vs Accuracy**

*(–ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –ø—Ä–æ—Ç–∏–≤ —Ç–æ—á–Ω–æ—Å—Ç–∏ –¥–∞–Ω–Ω—ã—Ö)*

–ö–æ–≥–¥–∞ —É —Ç–µ–±—è –º–∏–ª–ª–∏–æ–Ω—ã –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π, –Ω–µ–ª—å–∑—è —Å—á–∏—Ç–∞—Ç—å –≤—Å—ë –∏–¥–µ–∞–ª—å–Ω–æ —Ç–æ—á–Ω–æ ‚Äî –¥–æ—Ä–æ–≥–æ, –º–µ–¥–ª–µ–Ω–Ω–æ –∏ –±–µ—Å–ø–æ–ª–µ–∑–Ω–æ.

–ë–æ–ª—å:

* —Ç–æ—á–Ω—ã–µ —Å—á—ë—Ç—á–∏–∫–∏ –¥–∞—é—Ç row-lock–∏
* –∞–Ω–∞–ª–∏—Ç–∏–∫–∞ —Ç–æ—Ä–º–æ–∑–∏—Ç
* —É–Ω–∏–∫–∞–ª—å–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ == –º–µ–¥–ª–µ–Ω–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã

–†–µ–∞–ª—å–Ω—ã–µ —Ä–µ—à–µ–Ω–∏—è:

* **HyperLogLog** –¥–ª—è —É–Ω–∏–∫–∞–ª—å–Ω—ã—Ö –∑–Ω–∞—á–µ–Ω–∏–π (1‚Äì2% –æ—à–∏–±–∫–∞)
* **Bloom Filter** –¥–ª—è —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏ (false positives –¥–æ–ø—É—Å—Ç–∏–º—ã)
* **Sampling 1:100 –¥–ª—è –ª–æ–≥–æ–≤ –∏ –º–µ—Ç—Ä–∏–∫**
* **Probabilistic caching** ‚Äî –∫—ç—à–∏—Ä—É–µ–º –Ω–µ –≤—Å–µ –∑–∞–ø—Ä–æ—Å—ã, –∞ —á–∞—Å—Ç—å

–ü—Ä–∏–º–µ—Ä:

–ï—Å–ª–∏ —Ç—ã —Ö—Ä–∞–Ω–∏—à—å —Ç–æ—á–Ω—ã–π ‚Äú–∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ª–∞–π–∫–æ–≤‚Äù:

‚Äì –±—É–¥–µ—à—å –±–∏—Ç—å—Å—è –∑–∞ row-lock –≤ Postgres.

–ï—Å–ª–∏ —Ç—ã —Ö—Ä–∞–Ω–∏—à—å approximate counter:

‚Äì –æ–Ω –º–∞—Å—à—Ç–∞–±–∏—Ä—É–µ—Ç—Å—è –±–µ—Å–∫–æ–Ω–µ—á–Ω–æ.

---

# üî∑ **2.3 Latency vs Cost**

*(—Ö–æ—á–µ—à—å –±—ã—Å—Ç—Ä–æ ‚Äî –ø–ª–∞—Ç–∏)*

–•–æ—á–µ—à—å —Å–µ—Ä–≤–∏—Å –∑–∞ 20ms –æ—Ç–≤–µ—Ç ‚Äî –∑–Ω–∞—á–∏—Ç:

* –Ω—É–∂–µ–Ω –±–æ–ª—å—à–µ CPU,
* –±–æ–ª—å—à–µ RAM,
* –±–æ–ª—å—à–µ –∏–Ω—Å—Ç–∞–Ω—Å–æ–≤,
* –±–æ–ª—å—à–µ —Ä–µ–ø–ª–∏–∫,
* –±–æ–ª—å—à–µ —É—Ä–æ–≤–Ω–µ–π –∫—ç—à–∞.

AWS –Ω–µ –ø–æ–¥–∞—Ä–∏—Ç —Ç–µ–±–µ –∂–µ–ª–µ–∑–æ –∑–∞ –∫—Ä–∞—Å–∏–≤—ã–µ –≥–ª–∞–∑–∞.

–î–∏–∞–≥—Ä–∞–º–º–∞:

```mermaid
graph LR
A[Latency ‚Üì] --> B[Cost ‚Üë‚Üë‚Üë]
```

–¢–∏–ø–∏—á–Ω—ã–µ –ø—Ä–∏–º–µ—Ä—ã:

* Warm cache –Ω–∞ CDN = –¥–µ—à—ë–≤—ã–π —Å–ø–æ—Å–æ–± —Å–æ–∫—Ä–∞—Ç–∏—Ç—å latency.
* Multi-region = –±—ã—Å—Ç—Ä—ã–π, –Ω–æ –¥–æ—Ä–æ–≥–æ–π —Å–µ—Ç–µ–≤–æ–π —Ç—Ä–∞—Ñ–∏–∫.
* –ë–æ–ª—å—à–µ –≤–æ—Ä–∫–µ—Ä–æ–≤ ‚Üí –±–æ–ª—å—à–µ CPU ‚Üí –±–æ–ª—å—à–µ –¥–µ–Ω–µ–≥.

–ò–Ω–∞—á–µ –≥–æ–≤–æ—Ä—è:

> –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è —Å–∫–æ—Ä–æ—Å—Ç–∏ –ø–æ—á—Ç–∏ –≤—Å–µ–≥–¥–∞ –ø—Ä–µ–≤—Ä–∞—â–∞–µ—Ç—Å—è –≤ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—é —Å—á–µ—Ç–∞ –≤ AWS.

---

# üî∑ **2.4 Consistency vs Availability (CAP trade-off)**

*(—Ä–µ–∞–ª—å–Ω–æ–µ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏–µ CAP, –∞ –Ω–µ —à–∫–æ–ª—å–Ω–∞—è –¥–∏–∞–≥—Ä–∞–º–º–∫–∞)*

CAP –≤–∞–∂–Ω–∞ –∑–¥–µ—Å—å —Ä–æ–≤–Ω–æ –¥–ª—è –æ–¥–Ω–æ–≥–æ:

**–æ–±—ä—è—Å–Ω–∏—Ç—å, –ø–æ—á–µ–º—É —É–≤–µ–ª–∏—á–µ–Ω–∏–µ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ –≤—Å–µ–≥–¥–∞ –±—å—ë—Ç –ø–æ –∫–æ–Ω—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ—Å—Ç–∏.**

–ë–æ–ª—å:

* —Ö–æ—á–µ—à—å, —á—Ç–æ–±—ã —Å–∏—Å—Ç–µ–º–∞ –≤—Å–µ–≥–¥–∞ –æ—Ç–≤–µ—á–∞–ª–∞ –±—ã—Å—Ç—Ä–æ ‚Üí —Å–Ω–∏–∂–∞–µ—à—å —Å—Ç—Ä–æ–≥–æ—Å—Ç—å –¥–∞–Ω–Ω—ã—Ö
* —Ö–æ—á–µ—à—å —Å–∏–ª—å–Ω—É—é –∫–æ–Ω—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ—Å—Ç—å ‚Üí –∂–¥–∏ —Ä–µ–ø–ª–∏–∫ ‚Üí throughput –ø–∞–¥–∞–µ—Ç

–ö–æ—Ä–æ—Ç–∫–æ:

–ü—Ä–∏ —Å–µ—Ç–µ–≤–æ–º —Ä–∞–∑—Ä—ã–≤–µ —Ç—ã –¥–æ–ª–∂–µ–Ω –≤—ã–±—Ä–∞—Ç—å:

### ‚úî CP (Consistency Priority)

*—Å—Ç—Ä–æ–≥–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –Ω–∞ –≤—Å–µ—Ö —É–∑–ª–∞—Ö*
‚Üí latency ‚Üë
‚Üí throughput ‚Üì
‚Üí —á–∞—Å—Ç—å –∑–∞–ø—Ä–æ—Å–æ–≤ –±–ª–æ–∫–∏—Ä—É–µ—Ç—Å—è

### ‚úî AP (Availability Priority)

*–æ—Ç–≤–µ—á–∞–µ–º –±—ã—Å—Ç—Ä–æ –Ω–∞ –æ—Å–Ω–æ–≤–µ –ª–æ–∫–∞–ª—å–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö*
‚Üí consistency ‚Üì
‚Üí –≤–æ–∑–º–æ–∂–Ω—ã stale reads

–ü—Ä–∏–º–µ—Ä—ã:

| –¢–µ—Ö–Ω–æ–ª–æ–≥–∏—è                | –†–µ–∞–ª—å–Ω—ã–π —Ä–µ–∂–∏–º |
| ------------------------- | -------------- |
| Redis                     | AP             |
| Mongo –ø—Ä–∏ failover        | AP             |
| Postgres sync replication | CP             |
| DynamoDB                  | AP (—á–∞—Å—Ç–∏—á–Ω–æ)  |
| Multi-region writes       | AP             |

–í–æ—Ç –∏ –≤—Å—ë, —Ç–µ–±–µ –Ω–µ –Ω—É–∂–µ–Ω CAP-—Ç—Ä–µ—É–≥–æ–ª—å–Ω–∏–∫ ‚Äî —Ç–æ–ª—å–∫–æ –ø—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ –ø–æ—Å–ª–µ–¥—Å—Ç–≤–∏—è.

---

# üî∑ **2.5 Caching vs Correctness**

*(—É—Å–∫–æ—Ä–µ–Ω–∏–µ —á—Ç–µ–Ω–∏–π –ª–æ–º–∞–µ—Ç —Å–≤–µ–∂–µ—Å—Ç—å –¥–∞–Ω–Ω—ã—Ö)*

–ë–æ–ª—å:

* –µ—Å—Ç—å 10 —Å–ª–æ—ë–≤ –∫—ç—à–∞ ‚Äî –¥–∞–Ω–Ω—ã–µ —Ä–∞–∑—ä–µ–∑–∂–∞—é—Ç—Å—è
* TTL –¥–µ–ª–∞–µ—Ç –ø–æ–≤–µ–¥–µ–Ω–∏–µ —Å–ª—É—á–∞–π–Ω—ã–º
* –ø–µ—Ä–≤—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –ø–æ—Å–ª–µ –∏—Å—Ç–µ—á–µ–Ω–∏—è TTL –ø–æ–ª—É—á–∞—é—Ç –º–µ–¥–ª–µ–Ω–Ω—ã–π –∑–∞–ø—Ä–æ—Å
* invalidation ‚Äî —Å–ª–æ–∂–Ω–µ–µ, —á–µ–º —è–¥—Ä–æ Linux

–ö—ç—à = —É—Å–∫–æ—Ä–µ–Ω–∏–µ –∑–∞ —Å—á—ë—Ç –æ—Ç–∫–∞–∑–∞ –æ—Ç —Å—Ç—Ä–æ–≥–æ–π –∏—Å—Ç–∏–Ω—ã.

–†–µ—à–µ–Ω–∏—è:

* Jittered TTL
* Global cache busting
* Stale-while-revalidate
* Versioned keys
* Multi-layer invalidation

---

# üî∑ **2.6 Parallelism vs Contention**

*(–±–æ–ª—å—à–µ –≤–æ—Ä–∫–µ—Ä–æ–≤ ‚Üí –±–æ–ª—å—à–µ –∫–æ–Ω—Ñ–ª–∏–∫—Ç–æ–≤ ‚Üí –º–µ–Ω—å—à–µ throughput)*

–≠—Ç–æ –∫–ª–∞—Å—Å–∏—á–µ—Å–∫–∞—è –ª–æ–≤—É—à–∫–∞:

> ‚Äú–î–∞–≤–∞–π—Ç–µ —É–≤–µ–ª–∏—á–∏–º –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ PHP-FPM –≤–æ—Ä–∫–µ—Ä–æ–≤ —Å 50 –¥–æ 200, –±—É–¥–µ—Ç –±—ã—Å—Ç—Ä–µ–µ‚Äù.

–ë—É–¥–µ—Ç —Ö—Ä–µ–Ω–æ–≤–æ.

–ù–∞ —Å–∞–º–æ–º –¥–µ–ª–µ:

* contention –Ω–∞ Redis —Ä–∞—Å—Ç—ë—Ç
* database locks —Ä–∞—Å—Ç—É—Ç
* –≤—Å—ë –±–æ–ª—å—à–µ –ø—Ä–æ—Ü–µ—Å—Å–æ–≤ –∂–¥—É—Ç –¥—Ä—É–≥ –¥—Ä—É–≥–∞
* CPU —Ç—Ä–∞—Ç–∏—Ç –±–æ–ª—å—à–µ –≤—Ä–µ–º–µ–Ω–∏ –Ω–∞ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –∫–æ–Ω—Ç–µ–∫—Å—Ç–æ–≤
* latency —Ä–∞—Å—Ç—ë—Ç
* throughput –ø–∞–¥–∞–µ—Ç

–î–∏–∞–≥—Ä–∞–º–º–∞:

```mermaid
graph TB
A[–£–≤–µ–ª–∏—á–∏–≤–∞–µ–º –≤–æ—Ä–∫–µ—Ä—ã] --> B[–í–æ–∑—Ä–∞—Å—Ç–∞—é—Ç –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏]
B --> C[Lock Wait Time ‚Üë]
C --> D[Latency ‚Üë]
D --> E[Throughput ‚Üì]
```

–†–µ—à–µ–Ω–∏–µ:

* –æ–≥—Ä–∞–Ω–∏—á–∏–≤–∞—Ç—å –ø–∞—Ä–∞–ª–ª–µ–ª–∏–∑–º
* –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –æ—á–µ—Ä–µ–¥–∏
* —à–∞—Ä–¥–∏—Ä–æ–≤–∞—Ç—å –≥–æ—Ä—è—á–∏–µ —Å—É—â–Ω–æ—Å—Ç–∏
* –∏–∑–±–µ–≥–∞—Ç—å –≥–ª–æ–±–∞–ª—å–Ω—ã—Ö —Å—á—ë—Ç—á–∏–∫–æ–≤
* —Å–Ω–∏–∂–∞—Ç—å –æ–±—ä—ë–º shared-—Å–æ—Å—Ç–æ—è–Ω–∏—è

---

# üî• –ë–õ–û–ö 3. –†–ï–ê–õ–¨–ù–´–ï –ò–ù–ñ–ï–ù–ï–†–ù–´–ï –ü–†–ò–ú–ï–†–´ (3‚Äì5 –º–∏–Ω)

* aggressive retries –≤ gateway ‚Üí retry storm ‚Üí backend death
* sync replication –≤ Postgres ‚Üí SLA –ø–∞–¥–∞–µ—Ç –¥–æ 95%
* –¥–æ–±–∞–≤–∏–ª–∏ CDN ‚Üí –ø–æ—è–≤–∏–ª–∏—Å—å stale responses
* L1-cache –≤ PHP-FPM ‚Üí –∫–æ–≥–µ—Ä–µ–Ω—Ç–Ω–æ—Å—Ç—å —É–ª–µ—Ç–µ–ª–∞ –≤ –∫–æ—Å–º–æ—Å
* —É–º–µ–Ω—å—à–∏–ª–∏ –≤–æ—Ä–∫–µ—Ä—ã ‚Üí –æ—á–µ—Ä–µ–¥—å –≤—ã—Ä–æ—Å–ª–∞
* —É–≤–µ–ª–∏—á–∏–ª–∏ –≤–æ—Ä–∫–µ—Ä—ã ‚Üí contention —É–±–∏–ª throughput
* —à–∞—Ä–¥–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–ø–∞—Å–ª–æ latency ‚Üí –Ω–æ —É–±–∏–ª–æ strong consistency

–ö–∞–∂–¥—ã–π –ø—Ä–∏–º–µ—Ä ‚Äî —ç—Ç–æ trade-off, –∞ –Ω–µ –æ—à–∏–±–∫–∞.

---

# üéØ –ë–õ–û–ö 4. –ü–†–ê–ö–¢–ò–ß–ï–°–ö–ò–ï –†–ï–ö–û–ú–ï–ù–î–ê–¶–ò–ò (5 –º–∏–Ω)

**1. –ù–µ –æ–ø—Ç–∏–º–∏–∑–∏—Ä—É–π –≤—Å–ª–µ–ø—É—é**
–°–Ω–∞—á–∞–ª–∞ –º–µ—Ç—Ä–∏–∫–∏, –ø–æ—Ç–æ–º —Ä–µ—à–µ–Ω–∏—è.

**2. –ü–æ–Ω–∏–∂–∞–π —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è**
Strong consistency —Å—Ç–æ–∏—Ç –¥–æ—Ä–æ–∂–µ –≤—Å–µ–≥–æ.

**3. –°–µ–≥—Ä–µ–≥–∏—Ä—É–π –Ω–∞–≥—Ä—É–∑–∫–∏**
–ß—Ç–µ–Ω–∏–µ –æ—Ç–¥–µ–ª—å–Ω–æ, –∑–∞–ø–∏—Å—å –æ—Ç–¥–µ–ª—å–Ω–æ.

**4. –õ–∏–º–∏—Ç—å –ø–∞—Ä–∞–ª–ª–µ–ª–∏–∑–º**
Concurrency != throughput.

**5. –û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –≤–Ω–µ–¥—Ä—è–π backpressure**
–°–∏—Å—Ç–µ–º–∞ –¥–æ–ª–∂–Ω–∞ –∏–º–µ—Ç—å –ø—Ä–∞–≤–æ —Å–∫–∞–∑–∞—Ç—å ‚Äú—Å—Ç–æ–ø‚Äù.

**6. –î–æ–∫—É–º–µ–Ω—Ç–∏—Ä—É–π trade-offs**
–ò–Ω–∞—á–µ —á–µ—Ä–µ–∑ 3 –º–µ—Å—è—Ü–∞ –Ω–∏–∫—Ç–æ –Ω–µ –ø–æ–π–º—ë—Ç, –ø–æ—á–µ–º—É —Ç–∞–∫ —Å–¥–µ–ª–∞–ª–∏.

---

# üèÅ –§–ò–ù–ê–õ

–í —Ä–∞—Å–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω—ã—Ö —Å–∏—Å—Ç–µ–º–∞—Ö **–Ω–µ—Ç –±–µ—Å–ø–ª–∞—Ç–Ω—ã—Ö —É—Å–∫–æ—Ä–µ–Ω–∏–π**.
–ö–∞–∂–¥—ã–π –ø—Ä–∏—Ä–æ—Å—Ç –æ–¥–Ω–æ–π –º–µ—Ç—Ä–∏–∫–∏:

* —É–≤–µ–ª–∏—á–∏–≤–∞–µ—Ç —Å—Ç–æ–∏–º–æ—Å—Ç—å,
* —Å–Ω–∏–∂–∞–µ—Ç —Ç–æ—á–Ω–æ—Å—Ç—å,
* –ª–æ–º–∞–µ—Ç –∫–æ–Ω—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ—Å—Ç—å,
* –∏–ª–∏ —É–≤–µ–ª–∏—á–∏–≤–∞–µ—Ç —Ä–∏—Å–∫ –∫–∞—Ç–∞—Å—Ç—Ä–æ—Ñ—ã.

–ì–ª–∞–≤–Ω–∞—è –∑–∞–¥–∞—á–∞ –∏–Ω–∂–µ–Ω–µ—Ä–∞ ‚Äî –Ω–µ —É—Å–∫–æ—Ä–∏—Ç—å —Å–∏—Å—Ç–µ–º—É –ª—é–±–æ–π —Ü–µ–Ω–æ–π,
–∞ **—Ä–∞—Å–ø—Ä–µ–¥–µ–ª–∏—Ç—å –±–æ–ª—å —Ç–∞–∫, —á—Ç–æ–±—ã –±–∏–∑–Ω–µ—Å –º–æ–≥ –∂–∏—Ç—å**.
—á